<xml version="Mixly 2.0 rc4" board="Arduino ESP32C3@CORE-ESP32-C3"><comment id="bRqDN}DCO;),}Mo-SKpS" x="-143" y="-682" h="199.51614379882812" w="448.50726318359375">示例程序：遥控器移动
CH0 - 控制机头方向
CH2 - 控制x速度
CH3 - 控制y速度

SW_Left == 0 当前y正向为机头
SW_Left == 1 固定当前机头方向
SW_Left == 2 CH0控制机头方向

注意：全向移动未计算实际行驶速度</comment><comment id="`Rwc2hb$Su04oTgSW`#g" x="433" y="-539" h="54" w="264">温馨提示：注意保存代码(CTRL+S)</comment><block type="base_setup" id="v:FAdyXef6Z[o=vve}c^" x="-147" y="-479"><statement name="DO"><block type="chassis_init" id="u.9rTDl816{OsKf~KFp$"><field name="init_reen_motors">On</field><field name="init_reen_pwm">On</field><next><block type="variables_declare" id="!LnTm(Xm/=l}1$U^+CYa"><field name="variables_type">global_variate</field><field name="VAR">ref_yaw</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="eb3g*BL6~UE$H3XuCm(l"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="$(GV/a1z{|`zZP-]/LiC"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_x</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="}-b@W`8ON;O_MqXkNZ24"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="|r-49R4Va:Oba@[wWyU["><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_y</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="`i~}yPP4sRy#ECo7]2d["><field name="NUM">0</field></block></value><next><block type="variables_declare" id="#-A@lp=UE,rl-is0ISr-"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_roll</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="~{YL5^C1rhWy7R*F)IV@"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_declare" id="5OYA@u3|.VpG.iebi~GH" x="436" y="-469"><field name="variables_type">local_variate</field><field name="VAR">v_x</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="Je/+/WjeB}f;Lddjj(3@"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="[/?@k=w8pVs?|+9PXJ-."><field name="variables_type">local_variate</field><field name="VAR">v_y</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="V]/x|3R#?dLs(s^w9ebs"><field name="NUM">0</field></block></value><next><block type="controls_if" id="MaL~mkX9icHpoTaUSy@;"><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="logic_compare" id="F$`J*Y;U^T~]IfqQK=3+"><field name="OP">EQ</field><value name="A"><block type="chassis_remoter_read" id="5FXMVY]sPv2#(}hht;hg"><field name="rmt_id">5</field></block></value><value name="B"><block type="math_number" id="N9C-aZcFhv]YJ^9dKFKr"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="chassis_rst_ins" id="pn07hP}Q-ye2zendDm`K"><next><block type="variables_set" id="X7AF~J{0Og5LcwxW[[S`"><field name="VAR">ref_yaw</field><value name="VALUE"><block type="chassis_get_ins" id="?n~)vp|0y}C*2CWbrm,^"><field name="ins_type">0</field></block></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="cYm)E:kzw;hg/lN;Gl*."><field name="OP">EQ</field><value name="A"><block type="chassis_remoter_read" id="DzrZn|eJDH/4rV[3i#ff"><field name="rmt_id">5</field></block></value><value name="B"><block type="math_number" id="n/`)WRtByP@vrh0.o?dD"><field name="NUM">1</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="+`mlVlEoC@!?Zfp7}ll|"><field name="VAR">ref_yaw</field><value name="VALUE"><block type="chassis_get_ins" id="+a#KQcu{Va;X!7zA+=^k"><field name="ins_type">0</field></block></value></block></statement><statement name="ELSE"><block type="variables_operation" id="U1dTL8HLY2U.9d2L4Zvj"><field name="type">+</field><value name="variables"><shadow type="math_number" id="0oweDi5eI5lS]CDn)b4;"><field name="NUM">item</field></shadow><block type="variables_get" id="e6W=n{PVeK/@I@Yb63_C"><field name="VAR">ref_yaw</field></block></value><value name="data"><shadow type="math_number" id="@!jP7Ti#yMh[PisbYLy|"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Q2xsV(Tg^S$(B{`|`#Tz"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="/96;3pV7lim{Q5o?A|#,"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="4!D!cH~qNSaDFU,f:X7s"><field name="rmt_id">0</field></block></value><value name="B"><shadow type="math_number" id="*?AB/M|+h#K;?4@yE+vW"><field name="NUM">10</field></shadow></value></block></value></block></statement><next><block type="variables_set" id="|[1PS7:ELwb`$[+E`Oy_"><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_arithmetic" id="tk^R$cVd1S+S:nAHy@Qf"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="U,0US#c6`$Y@_Ao*rXBh"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="5HVnwm2bvAmK@CFS`#^A"><field name="rmt_id">3</field></block></value><value name="B"><shadow type="math_number" id="rlz{k?g0_mR,.B3UHnBA"><field name="NUM">-10</field></shadow></value></block></value><next><block type="variables_set" id="a^$|]3vj.No/64HFwCz*"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_arithmetic" id="Rp^99vsOU}hHh-Q(xvAK"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="U,0US#c6`$Y@_Ao*rXBh"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="/-AhzT;(mj~ZD,yw1;eG"><field name="rmt_id">2</field></block></value><value name="B"><shadow type="math_number" id="t+PlUp{:}`ajfWUHGibE"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="F(e?_fk7NW2a:dc5HL[,"><field name="VAR">ref_velocity_roll</field><value name="VALUE"><block type="math_arithmetic" id=";B^hqdFRP41^{M|/.+g|"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="U,0US#c6`$Y@_Ao*rXBh"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="VbybZSN=f.*si)a@MOW?"><field name="rmt_id">4</field></block></value><value name="B"><shadow type="math_number" id="T}Vz(!b4PYfT-HX`H1+2"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="7mJB`W^X2c^zyeC*yQ_m"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="-aRJBvv/4Re_/Pxm1I1{"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="*)sU*TubEmQo4Xgb!zTe"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="r,l#Loza^~#y!s;23r^#"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="(D*PTX.e9da#)L)T[`Ui"><field name="NUM">1</field></shadow><block type="math_trig" id="JDmi|@Wxk;pNwQ:L1uF."><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="c+QE-bLYB8=HCa5nR5.l"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Y-@qiS,~8/YwPaz-0Q^}"><field name="NUM">1</field></shadow><block type="variables_get" id="NB(SY6@y7*2t4^h6eV-L"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="lQ4jKl|XmSV+l/zTdmzg"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="U_!+0DBK_YCe|$(vppRH"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="ZdI,*l*^oh@~cObSh1S|"><field name="NUM">1</field></shadow><block type="variables_get" id="l)!HaxU0oP~K{=LW4wJL"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="l!N7)(#K+_@@VC3vSXSc"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="f?ml5OOq?Z$~y32;:`3O"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="]BrgH:K!435Juyn_}qLG"><field name="NUM">1</field></shadow><block type="math_trig" id="(R8]yb[7$5~8q$Jb(,G|"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="0oY,]7*h=?jczZRc-5VG"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Ou|Py22i0Q,H/z=OGv|X"><field name="NUM">1</field></shadow><block type="variables_get" id="MHuQ(y:U(r.#C_q,c{F+"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="g`gHcu(@SzC1]Z#hK$.x"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="v$r`-COO]=wb?8+#Z+eA"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="+1}@jM=xJSg`67+eIiJ~"><field name="NUM">1</field></shadow><block type="variables_get" id="j*D~WN[-*fmp/Q.3VE`3"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="./(=TC([+D:zjM|vx#u4"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="IVnG{CqRvr0.{{Uuav|;"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="t}jjdO2}+5-@*/01k$~m"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="+H85k#VU[92zM`6.f*5S"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="HY18b5S5kbJ4eyjWuD^F"><field name="NUM">1</field></shadow><block type="math_trig" id="6^$O3L.pk.7{4tGJcP~7"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id=".`e*BdA1qka8H=dRaq4;"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Mg)QYZ!,*37o2lkTSbt0"><field name="NUM">1</field></shadow><block type="variables_get" id="@xON+Tu3PFeg)28JF$`D"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="~DH#Bq)AHW#vJe0*uWZL"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="gY5![Mo1Mj#2ODdj.S1x"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="4*+wUO?.96tMjJtS5#[G"><field name="NUM">1</field></shadow><block type="variables_get" id="*ex72|JAi/C:|(emzv`g"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="M1j84wH;Cy=^ol19WPFp"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="907u6IZd38g6zKL!9i/0"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="~3i#y9wOEc(S-zb(v~)I"><field name="NUM">1</field></shadow><block type="math_trig" id="wYZ{KgY/[jiU84kVEu7!"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="vtjn/@n$2ZQ@B[VUw+`r"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="bkpk{W$D0oJ:Klx:.sxK"><field name="NUM">1</field></shadow><block type="variables_get" id="m6,k{{-CEhAH8cN3S6m8"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="W#qkHoSds1g~N[G!u{n4"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="d+zuHPXTy`ht}evzB=C0"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="lckvy:~qv09F.v:9beMn"><field name="NUM">1</field></shadow><block type="variables_get" id="QPwzBlFLP8l,4cYm5vBO"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="controls_if" id="WD!NHS@ylw}!z2Z@MT6A"><mutation else="1"></mutation><value name="IF0"><block type="chassis_remoter_check_cn" id="#/19SwZ2@o}!@d*_6]j3"></block></value><statement name="DO0"><block type="chassis_move" id="?=fJOghB+RX(;WCRi!$C"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id="!fMv1`W-+5!{;as=#Y62"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="veG,(x~J9ZJ{#4vV}j`x"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="-a[N|n:b-~5:$}r#[_ib"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="p*[V}FsAX:$6*4@cll4_"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="YE9ZL?H$reDgI(6|_v*d"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="(p89T.q*-j:DV4f@|`w("><field name="NUM">1</field></shadow><block type="variables_get" id="5|N8?BCfn=$xz8c)6U46"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="/Jb1lnHIHvOw}K4/;)3G"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="2Cxi:9Pv*sbNOiAF6a#t"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="r8O+3tldC8P;L^xCGLF7"><field name="NUM">1</field></shadow><block type="variables_get" id="([D-Xgs^iU6~W34ZS,iX"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="d3jH@RLd1(u5pCkw2AxQ"><field name="NUM">v_y</field></shadow><block type="variables_get" id="V@@m^A)=ZgOk!^XVkoW."><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="EJ]vBkNTK.-C@UTf^dq1"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="D}_x?B62stHuLZ(K7TEE"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="zn[~tcf/Uvsn5ddTT-Pa"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="c65J}yF8DTA`QHw8#e9?"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="nZG^6DbUb:3(IvUy8c)V"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="jGSmj}3sZpunwp8n/52}"><field name="NUM">1</field></shadow><block type="variables_get" id="?nuV.U@QN`gG,2yV;@SD"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="(oK5tw?SBeFbl[KHLMsF"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="}:sl@q-~;R;N,yS~UHq@"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="?L5Mgi?yH3FYARN`qgG3"><field name="NUM">1</field></shadow><block type="variables_get" id="UVb/Q9~Kl*S9Qzcs2]Li"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="8eNI!Ne//Fw7yTn[=#7$"><field name="NUM">v_y</field></shadow><block type="variables_get" id="biLdz2VEJ;u_g,WYVePh"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="@!?s3I.k,NGF$nfxP;p-"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="G6{?wl[JGRNqk!FU})gq"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="}`[T.2vz9:D-|YV)fZi."><field name="NUM">1</field></shadow><block type="math_arithmetic" id="$:KIMHCDGmPDCbB+]*z."><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="7b{6f5tD-6lhq}|I{eIR"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="NS0^tI}2mF/Y.5UrS/6e"><field name="NUM">1</field></shadow><block type="variables_get" id="0Kh]UyIqmBqH-Yc0,ASM"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="@9LD^HxEMV+U_@!RbNzw"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="EBSRp8tuH.fM+.Pwm2[Z"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="^zZ9z#,vj3lMTdoYogDb"><field name="NUM">1</field></shadow><block type="variables_get" id="6o*XrWjo0G{g1I8uU75f"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="i9gV4g{a#CI(WUfjT6@Y"><field name="NUM">v_y</field></shadow><block type="variables_get" id="CbRB[8{htr/mt2t)y##E"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="I(QRmwV:p^G8ipkpPGJC"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="uRRhsVsy6!AJu(E8nit4"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="ck-/VIE4#w,3Y9qg92e["><field name="NUM">1</field></shadow><block type="math_arithmetic" id=";0~[M@4ym=+)6iMRXhc2"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="W-gl~x;-~IH?5AIYF:zc"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="`5;,~S*r06d94s:s1)@n"><field name="NUM">1</field></shadow><block type="variables_get" id="zp*}Y2j8aS$9xah(x|`@"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="xHpD:TP#uoNt+?)k4]Or"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="S(gR$Sl,g:`dW0B3tMbS"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="KLymk0r#!4HEVc:kChy5"><field name="NUM">1</field></shadow><block type="variables_get" id="VpSW*VH2.jKNs=k#Lb0u"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="3fPMS-Mr#wQ^`1A,!2=M"><field name="NUM">v_y</field></shadow><block type="variables_get" id="n$~EsjJ.~;vT/sKDeDm3"><field name="VAR">v_y</field></block></value></block></value></block></value></block></statement><statement name="ELSE"><block type="chassis_move" id="PKh6Wa]lcG~)?IG++~K}"><value name="rpm_wheel0"><shadow type="math_number" id="8pkw17b9FE}s|cnn~THt"><field name="NUM">0</field></shadow></value><value name="rpm_wheel1"><shadow type="math_number" id=":X6i7ap18291FV[r9BEw"><field name="NUM">0</field></shadow></value><value name="rpm_wheel2"><shadow type="math_number" id="E@-WU}noWlN5A3)BZ]1H"><field name="NUM">0</field></shadow></value><value name="rpm_wheel3"><shadow type="math_number" id="(+x972YN42.pIeVFdPby"><field name="NUM">0</field></shadow></value></block></statement><next><block type="controls_delay" id="PH[o;Zn8([ioqhs#q3by"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="[ULlhV*8xHo=l2EMwBUL"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{"CDCOnBoot":{"key":"cdc","label":"Enabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"160","label":"160MHz (WiFi)"},"FlashMode":{"key":"dio","label":"DIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"}}</config><code>CiNpbmNsdWRlIDxDaGFzc2lzLmg+CgpDaGFzc2lzIGNoczsKdm9sYXRpbGUgZmxvYXQgcmVmX3lhdzsKdm9sYXRpbGUgaW50IHJlZl92ZWxvY2l0eV94Owp2b2xhdGlsZSBpbnQgcmVmX3ZlbG9jaXR5X3k7CnZvbGF0aWxlIGludCByZWZfdmVsb2NpdHlfcm9sbDsKCnZvaWQgdGFza19jaHMoIHZvaWQgKiBwdlBhcmFtZXRlcnMgKXsKICB2VGFza0RlbGF5KDUwMC9wb3J0VElDS19QRVJJT0RfTVMpOwogIGNocy5Jbml0KCk7CiAgZm9yKDs7KXsKICAgIGNocy5VcGRhdGUoKTsKICAgIGlmKGNocy5Jc09ubGluZSgpKXsKICAgICAgY2hzLk1vdG9yc1VubG9jaygpOwogICAgfQogICAgaWYoY2hzLklzT25saW5lKCkpewogICAgICBjaHMuUFdNVW5sb2NrKCk7CiAgICB9CiAgICB2VGFza0RlbGF5KDEwL3BvcnRUSUNLX1BFUklPRF9NUyk7CiAgfQp9Cgp2b2lkIHNldHVwKCl7CiAgeFRhc2tDcmVhdGVQaW5uZWRUb0NvcmUodGFza19jaHMsICJ0YXNrX2NocyIsIDEwMjQsIE5VTEwsIDE1LCBOVUxMLCAwKTsKICByZWZfeWF3ID0gMDsKICByZWZfdmVsb2NpdHlfeCA9IDA7CiAgcmVmX3ZlbG9jaXR5X3kgPSAwOwogIHJlZl92ZWxvY2l0eV9yb2xsID0gMDsKfQoKdm9pZCBsb29wKCl7CiAgaW50IHZfeCA9IDA7CiAgaW50IHZfeSA9IDA7CiAgaWYgKGNocy5HZXRSZW1vdGVyKDUpID09IDApIHsKICAgIGNocy5Sc3RJTlMoKTsKICAgIHJlZl95YXcgPSBjaHMuR2V0SU5TKDApOwoKICB9IGVsc2UgaWYgKGNocy5HZXRSZW1vdGVyKDUpID09IDEpIHsKICAgIHJlZl95YXcgPSBjaHMuR2V0SU5TKDApOwogIH0gZWxzZSB7CiAgICByZWZfeWF3ID0gcmVmX3lhdyArIChjaHMuR2V0UmVtb3RlcigwKSAvIDEwKTsKCiAgfQogIHJlZl92ZWxvY2l0eV94ID0gY2hzLkdldFJlbW90ZXIoMykgKiAtMTA7CiAgcmVmX3ZlbG9jaXR5X3kgPSBjaHMuR2V0UmVtb3RlcigyKSAqIDEwOwogIHJlZl92ZWxvY2l0eV9yb2xsID0gY2hzLkdldFJlbW90ZXIoNCkgKiAxMDsKICB2X3ggPSBjb3MoKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeSArIHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV94OwogIHZfeSA9IHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV95IC0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3g7CiAgaWYgKGNocy5Jc1JlbW90ZXJPbmxpbmUoKSkgewogICAgLy8g6K6+572u6L2u6L2s6YCf77yM5a6e546w56e75YqoKOWJjSkKICAgIGNocy5Nb3ZlKCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCArIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCArIHZfeSkpKTsKCiAgfSBlbHNlIHsKICAgIGNocy5Nb3ZlKDAsMCwwLDApOwoKICB9CiAgZGVsYXkoMTApOwoKfQ==</code>