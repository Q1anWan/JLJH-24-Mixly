<xml version="Mixly 2.0 rc4" board="Arduino ESP32C3@CORE-ESP32-C3"><comment id="bRqDN}DCO;),}Mo-SKpS" x="-143" y="-682" h="199" w="448">示例程序：遥控器移动
CH0 - 控制机头方向
CH2 - 控制x速度
CH3 - 控制y速度

SW_Left == 0 当前y正向为机头
SW_Left == 1 固定当前机头方向
SW_Left == 2 CH0控制机头方向

注意：全向移动未计算实际行驶速度</comment><comment id="`Rwc2hb$Su04oTgSW`#g" x="433" y="-539" h="54" w="264">温馨提示：注意保存代码(CTRL+S)</comment><block type="base_setup" id="xg$ke4xZM4qfOUt;eh5w" x="-147" y="-479"><statement name="DO"><block type="chassis_init" id="8q(V4UqbkS^)At|~Ng)U"><field name="init_reen_motors">On</field><field name="init_reen_pwm">On</field><next><block type="variables_declare" id="-vnpLTved/uVSQPUh/{a"><field name="variables_type">global_variate</field><field name="VAR">ref_yaw</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="esSoNlom]YEY=ZWpP-sc"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="Xbcy4yE+.CDr=om^I*QL"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_x</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="Y-u!772a6S@z:HoM$QVm"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="-DPL}?6VMEpLOb:I5wDX"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_y</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="DBnt7|8JXb^Lz9e*,Usp"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="P5a^*hHHZAW7TutY+6_R"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_roll</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="kh;4{3cWCHG}3/B){:*Q"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_declare" id="fLnZmd0g}G?4eK4#E}eS" x="436" y="-469"><field name="variables_type">local_variate</field><field name="VAR">v_x</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id=".le#HM~*.4hs@:l7zI(b"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="m8V@Ev?X;|G:0v((?8js"><field name="variables_type">local_variate</field><field name="VAR">v_y</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="MKp1}^+3Avg!7*eMrTTn"><field name="NUM">0</field></block></value><next><block type="controls_if" id="[lpbk)FvXYdYC!Ub*[!a"><mutation elseif="1" else="1"></mutation><value name="IF0"><block type="logic_compare" id="#oathdTTAQ??xFf0l{JP"><field name="OP">EQ</field><value name="A"><block type="chassis_remoter_read" id="KeA6xwLsj9SV(_/[CNqN"><field name="rmt_id">5</field></block></value><value name="B"><block type="math_number" id="{:?-rSA@=Ps/ID?oS+LZ"><field name="NUM">0</field></block></value></block></value><statement name="DO0"><block type="chassis_rst_ins" id="A``XNBS+ZA.FaMpX(P.V"><next><block type="variables_set" id="/(j=3lUy4![O-LIIFu}n"><field name="VAR">ref_yaw</field><value name="VALUE"><block type="chassis_get_ins" id="2{qylqQfXx]jnMoWJKG^"><field name="ins_type">0</field></block></value></block></next></block></statement><value name="IF1"><block type="logic_compare" id="@:k+P#N#$o_:8hb=)~m/"><field name="OP">EQ</field><value name="A"><block type="chassis_remoter_read" id="Z22Gvola`Iy|}EE6dDZ3"><field name="rmt_id">5</field></block></value><value name="B"><block type="math_number" id="_LLEXh{jmF(x@#e(*9]]"><field name="NUM">1</field></block></value></block></value><statement name="DO1"><block type="variables_set" id="LbjV(11Nl+*SfjEbDavz"><field name="VAR">ref_yaw</field><value name="VALUE"><block type="chassis_get_ins" id="U3lGW0X#Sp!dXK~`wA)u"><field name="ins_type">0</field></block></value></block></statement><statement name="ELSE"><block type="variables_operation" id="*MT.fm=Itjv{=L@7oQoj"><field name="type">+</field><value name="variables"><shadow type="math_number" id="c!#k84;vxwXJX,qME~RH"><field name="NUM">item</field></shadow><block type="variables_get" id="rqGC|3n0Y82Lf}W[+,Va"><field name="VAR">ref_yaw</field></block></value><value name="data"><shadow type="math_number" id="7e=l:ueal9rMj}Yp41+p"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="FhDoWgB75=h$B!*zJY*l"><field name="OP">DIVIDE</field><value name="A"><shadow type="math_number" id="Sm0E_YdZN`*KxP.:-PPv"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="EvL6`YEd!jQ0Ac]e7N65"><field name="rmt_id">0</field></block></value><value name="B"><shadow type="math_number" id="sE*/uha7,nYJ8JT#W!OZ"><field name="NUM">10</field></shadow></value></block></value></block></statement><next><block type="variables_set" id="~8kCw};XT:LCGf,pGsAW"><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_arithmetic" id="Ci]cRfj_t3.PNuoLml!B"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id=";,/#t[;(Hc,|DnAd|r5|"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="yNXB2QuH;Or}TznJ8A}g"><field name="rmt_id">3</field></block></value><value name="B"><shadow type="math_number" id="YEMK?}zr0+DSR}_6QuaY"><field name="NUM">-10</field></shadow></value></block></value><next><block type="variables_set" id="vc0.]s+[F~)-!,lvy)ol"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_arithmetic" id="3#yB0d/Z5{t96LMsjE?H"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="G0t8PyBE5#JjxYg(Bb)V"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="`L0^M#4[5!MKMv/s]LWE"><field name="rmt_id">2</field></block></value><value name="B"><shadow type="math_number" id="k+ziZU~)1g2$:2|qcK_#"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="0(BT9Bwns@v_?GN=0wGo"><field name="VAR">ref_velocity_roll</field><value name="VALUE"><block type="math_arithmetic" id="w.}]z^BU-+YuyaOXd8v1"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="dkjoSlZaAlw]01wRrfRN"><field name="NUM">1</field></shadow><block type="chassis_remoter_read" id="(0d_oqWlJBoUUN+fY{}0"><field name="rmt_id">4</field></block></value><value name="B"><shadow type="math_number" id="b/P$+a@cqpaAFEfzG)9P"><field name="NUM">10</field></shadow></value></block></value><next><block type="variables_set" id="d9Ic:(;`zi?SEAt1,pTR"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="^1in9j.~43L*{}$$p=F_"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="m}}:uiXXU79hG:}VtQwU"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="@e(qL:v{nu:-HTnQ`*(i"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="mc$M!C}qm8IR)v^xqKnd"><field name="NUM">1</field></shadow><block type="math_trig" id="~EdztHQ(0Ef+7K~y/!{)"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="H`TOwc9dGg$+CHyYZ5=b"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="6I2Zk*/i`|Ere=^);Z!v"><field name="NUM">1</field></shadow><block type="variables_get" id="wLXUo/bO#u}(ypo]1kkc"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="_ukkYCp27wTCI`Yo?:iO"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="Rzc[.A+yb_rj5?9(8]b+"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="*u8Q1-XV4dh0z(tKzI:L"><field name="NUM">1</field></shadow><block type="variables_get" id="n[k{?N)6oA3/[gbO$Voh"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="ZKEEHuvoYOAx/_.KNydB"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="E`Ef+{D1c+$KudfBe11J"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="[x*c-}qn*JTyx$YU_)2R"><field name="NUM">1</field></shadow><block type="math_trig" id="(P`iKyQVL$kR:A5LKUHd"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="P|`HMv9Gwly^`lnM?~_D"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="qhp:,VUiBmlWaYeAi5}2"><field name="NUM">1</field></shadow><block type="variables_get" id="Z|`mP6LQ8Se6Z~Mo}GO]"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="*b6g}Ku{RQGSJ]~mv!op"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="-@@0IoC~C{eYR4w/T-67"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="E0=XZv-`bn)`?6wcG8jf"><field name="NUM">1</field></shadow><block type="variables_get" id="4~,Oq?Yh-x?Jh#M0UP=m"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="on,=wIt8kz58G/S_8=cG"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="u?0-NbtWv0!~iLmB7zA+"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="$V83#oQ{e94x+~bsifZp"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="^/m$cLh,I|`MS]NzIw9U"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="BCYzw7SUe{C+Hw,P-gbm"><field name="NUM">1</field></shadow><block type="math_trig" id="tvQ*tc1I`*nFSy*-Q|@*"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="8Id[V?-mL4.cKK`z}kQ["><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="8~G/`DwwvKY)blJ*Xoxg"><field name="NUM">1</field></shadow><block type="variables_get" id="xNGPPXh@beWe0.Df?FD}"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="*XuXOOQaP.?Q_:7V3fMB"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id=".#z;{;Tr(Vuq2K[@vt~R"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="P;J0X/MUT+^Xg8[TkSJG"><field name="NUM">1</field></shadow><block type="variables_get" id="OTp8jw.Mk~Y8|C!^}K-+"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="vR_)w]gMp[Xjd1H.^K)Y"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="2Mbn=kbaR5/_uxRkh~!*"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="|jh|T^M*5$(HvS.UbapU"><field name="NUM">1</field></shadow><block type="math_trig" id="Ug/k4[QYoUm8|5Sb}f`)"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="S9vy|eUTpo^wOx!,fPZx"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="fiFG:RPW/y|fX8FZ@Ffw"><field name="NUM">1</field></shadow><block type="variables_get" id="65Gu`fYug^-b(/+6q|MB"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="7i$6ka#uL$F$|]EU]M[V"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="tYLdvTHI63_mo$CrKRB7"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="-DGrYX;#=FmR/R0)7j/b"><field name="NUM">1</field></shadow><block type="variables_get" id="@mJ~CR+LtA:oDg(40[g4"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="controls_if" id="SM,^8Cjm,kg4y1~Z{NCl"><mutation else="1"></mutation><value name="IF0"><block type="chassis_remoter_check_cn" id="Wq5tVgPL?}~;3Z=`X|Wf"></block></value><statement name="DO0"><block type="chassis_move" id="f^qqZ1Eg_xw}0qgui`V1"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id="jM3mJ9ZTHz9FO4$ZKock"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="@$ebu:c(P9j9i3s9CCVx"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="6DuaWhFuE#B-Um1:wwk?"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="~ocaz*ukrrNUBD,Bup(x"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="X20-W:UH#6Do;53F5SEL"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="ZDW!Xml:NRE78^*lhhoG"><field name="NUM">1</field></shadow><block type="variables_get" id="-iekSnuP5Lo5X.~*SB]f"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="ISL=kYQ2Nq?)K_Etc~Va"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="O1PPzd1OWO*m,Y-9B/(-"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="-5h6w)lwOxD_ov@2:kk@"><field name="NUM">1</field></shadow><block type="variables_get" id="4(y+n!Tta]uLCL])z80v"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="^M=j*t-afDcXh=@+H~`d"><field name="NUM">v_y</field></shadow><block type="variables_get" id="!8*#VbpB2tIAANs^(3rS"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="T)j1rOF4FHBhAIBNe2~N"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="KcLg@sF})3kubE~5~VpP"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="x!M7,mC}ja9vgnV$1/kt"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="xA-b?Jay=z,?z**mOkXU"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="_wH,ChvhQt3R=OARz1wk"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="us}96C;t7lhdsRVGW1l}"><field name="NUM">1</field></shadow><block type="variables_get" id="^b}aUlr-4JzW{UgfZ?CZ"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="(Z?k$[JppG$1{}44+P5V"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="JvNIuY)f])d._{xnKcm?"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="N,{D_u2C0-P~TM;ykdkj"><field name="NUM">1</field></shadow><block type="variables_get" id="fF3H=^=!5H9UaxnnRviI"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="gu7o(zY{Gh4DTB.rLO5a"><field name="NUM">v_y</field></shadow><block type="variables_get" id=".1_wQk[~_ZdKA#sK3;nh"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="Z*ZUMsj9uet@4enRC]N6"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="G=8+:uUWy2=PGR`[pOWw"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="58s8k!zaJfa{550D2NO!"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="4I3nL4{h0gn?ju@,P;|g"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="5as[T9Yf-M)Kub_.@=87"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="FiBnQ)61YO}UDJyR(]`e"><field name="NUM">1</field></shadow><block type="variables_get" id=")VbN!iX@WlY1XvAviJ)]"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="lD,IZFC`+!$e$nXyd:6B"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="k@p)8lAE#95[56Bz)@NV"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="p,TbWFt@sN9p*y[Z+FLr"><field name="NUM">1</field></shadow><block type="variables_get" id="hGX9rHK=LIGkKYxvpTZ."><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="dGOPn?80p?tgw^]LIruQ"><field name="NUM">v_y</field></shadow><block type="variables_get" id=")9E*ml*.o;J)_^[*m_CY"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="^81:{P;1m,Qhs^:2WXCX"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="Mj92}1c,e^o8Q$CrXZ=X"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="vT^BKe{?}DUtUkf}^eqh"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="/*yEsIA_VE0:LlCQX+vW"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="Q#fT=!l^,^sJD;f$aJB|"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="Jg.OC;H+Fe]2eud{68}t"><field name="NUM">1</field></shadow><block type="variables_get" id="5$,)oQj6MO1-OL3?MMq:"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="#qD=!PG!7ypGvxXHv4u-"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="{EURT4QA4MyT1lXP6tlz"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="$mH{@esJqNjr.Am/P}pi"><field name="NUM">1</field></shadow><block type="variables_get" id="Q1b(oV~Vf4r^A[h,Z}E5"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="m-fP(+3UUG0KMs)[6ZWS"><field name="NUM">v_y</field></shadow><block type="variables_get" id="/^v9Qbo7~LiX~I-/x#;X"><field name="VAR">v_y</field></block></value></block></value></block></value></block></statement><statement name="ELSE"><block type="chassis_move" id="H2)UJrmBYF+azP#8UbZ1"><value name="rpm_wheel0"><shadow type="math_number" id="I^=@dVvg;47UnwNqb{?p"><field name="NUM">0</field></shadow></value><value name="rpm_wheel1"><shadow type="math_number" id="D6mXXMF.DN7X#aaz=4[;"><field name="NUM">0</field></shadow></value><value name="rpm_wheel2"><shadow type="math_number" id="vXcaflYRG|pHx*jqVA/g"><field name="NUM">0</field></shadow></value><value name="rpm_wheel3"><shadow type="math_number" id="niSLuX:Ux^!$?W7]H_+B"><field name="NUM">0</field></shadow></value></block></statement><next><block type="controls_delay" id="FuH?=Z~I=:!L`a1fkbE1"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="!7cjs[=FMp.pMrvH.@xB"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></xml><config>{"CDCOnBoot":{"key":"cdc","label":"Enabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"160","label":"160MHz (WiFi)"},"FlashMode":{"key":"dio","label":"DIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"}}</config><code>CiNpbmNsdWRlIDxDaGFzc2lzLmg+CgpDaGFzc2lzIGNoczsKdm9sYXRpbGUgZmxvYXQgcmVmX3lhdzsKdm9sYXRpbGUgaW50IHJlZl92ZWxvY2l0eV94Owp2b2xhdGlsZSBpbnQgcmVmX3ZlbG9jaXR5X3k7CnZvbGF0aWxlIGludCByZWZfdmVsb2NpdHlfcm9sbDsKCnZvaWQgdGFza19jaHMoIHZvaWQgKiBwdlBhcmFtZXRlcnMgKXsKICB2VGFza0RlbGF5KDUwMC9wb3J0VElDS19QRVJJT0RfTVMpOwogIGNocy5Jbml0KCk7CiAgZm9yKDs7KXsKICAgIGNocy5VcGRhdGUoKTsKICAgIGlmKGNocy5Jc09ubGluZSgpKXsKICAgICAgY2hzLk1vdG9yc1VubG9jaygpOwogICAgfQogICAgaWYoY2hzLklzT25saW5lKCkpewogICAgICBjaHMuUFdNVW5sb2NrKCk7CiAgICB9CiAgICB2VGFza0RlbGF5KDEwL3BvcnRUSUNLX1BFUklPRF9NUyk7CiAgfQp9Cgp2b2lkIHNldHVwKCl7CiAgeFRhc2tDcmVhdGVQaW5uZWRUb0NvcmUodGFza19jaHMsICJ0YXNrX2NocyIsIDEwMjQsIE5VTEwsIDE1LCBOVUxMLCAwKTsKICByZWZfeWF3ID0gMDsKICByZWZfdmVsb2NpdHlfeCA9IDA7CiAgcmVmX3ZlbG9jaXR5X3kgPSAwOwogIHJlZl92ZWxvY2l0eV9yb2xsID0gMDsKfQoKdm9pZCBsb29wKCl7CiAgaW50IHZfeCA9IDA7CiAgaW50IHZfeSA9IDA7CiAgaWYgKGNocy5HZXRSZW1vdGVyKDUpID09IDApIHsKICAgIGNocy5Sc3RJTlMoKTsKICAgIHJlZl95YXcgPSBjaHMuR2V0SU5TKDApOwoKICB9IGVsc2UgaWYgKGNocy5HZXRSZW1vdGVyKDUpID09IDEpIHsKICAgIHJlZl95YXcgPSBjaHMuR2V0SU5TKDApOwogIH0gZWxzZSB7CiAgICByZWZfeWF3ID0gcmVmX3lhdyArIChjaHMuR2V0UmVtb3RlcigwKSAvIDEwKTsKCiAgfQogIHJlZl92ZWxvY2l0eV94ID0gY2hzLkdldFJlbW90ZXIoMykgKiAtMTA7CiAgcmVmX3ZlbG9jaXR5X3kgPSBjaHMuR2V0UmVtb3RlcigyKSAqIDEwOwogIHJlZl92ZWxvY2l0eV9yb2xsID0gY2hzLkdldFJlbW90ZXIoNCkgKiAxMDsKICB2X3ggPSBjb3MoKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeSArIHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV94OwogIHZfeSA9IHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV95IC0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3g7CiAgaWYgKGNocy5Jc1JlbW90ZXJPbmxpbmUoKSkgewogICAgLy8g6K6+572u6L2u6L2s6YCf77yM5a6e546w56e75YqoKOWJjSkKICAgIGNocy5Nb3ZlKCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCArIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCArIHZfeSkpKTsKCiAgfSBlbHNlIHsKICAgIGNocy5Nb3ZlKDAsMCwwLDApOwoKICB9CiAgZGVsYXkoMTApOwoKfQ==</code>