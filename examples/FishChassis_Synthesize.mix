<xml version="Mixly 2.0 rc4" board="Arduino ESP32C3@CORE-ESP32-C3"><comment id="aZ#ELv]^*d!Mk{gM^kf0" x="-147" y="-594" h="99.54605102539062" w="271.1402282714844">示例程序：小陀螺移动
注意：全向移动未计算实际行驶速度</comment><comment id="`Rwc2hb$Su04oTgSW`#g" x="583" y="-449" h="54.870201110839844" w="264.69091796875">小陀螺画框
坐标系RFU(右前上)</comment><block type="base_setup" id="bU5Z[iBL)g]hXX]AsZUL" x="-151" y="-405"><statement name="DO"><block type="chassis_init" id="S0XPd`,.sC/R#k?DOx{J"><field name="init_reen_motors">On</field><field name="init_reen_pwm">On</field><next><block type="variables_declare" id="C;-L!Bv!S8e..qJKNJo8"><field name="variables_type">global_variate</field><field name="VAR">ref_yaw</field><field name="TYPE">float</field><value name="VALUE"><block type="math_number" id="VaA$RH0//eX=RgTmeg#D"><field name="NUM">0.0f</field></block></value><next><block type="variables_declare" id="5Osx~AUuSqBbJT4B0!tW"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_x</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="$410v_^5601FxC0;d2}@"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="G|_@VH/3vDK,R[`I(V?i"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_y</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="c;{0sO7|pZ1dHO8+.cPt"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="wMc@D@8Y7zD#/Kf)q3]t"><field name="variables_type">global_variate</field><field name="VAR">ref_velocity_roll</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="6Z]!RWv!Q@b#^6?B!79/"><field name="NUM">7000</field></block></value><next><block type="variables_declare" id="9a6r5bLgyufT}z*/mov|"><field name="variables_type">global_variate</field><field name="VAR">v_time</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="i.Mn(I?RmpLbD,Waphvc"><field name="NUM">0</field></block></value></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="variables_declare" id="BW$9ID2ckb_)I2Am)m/$" x="584" y="-382"><field name="variables_type">local_variate</field><field name="VAR">v_x</field><field name="TYPE">int</field><next><block type="variables_declare" id="fGW+Xz-l3=D{9E]WqZF6"><field name="variables_type">local_variate</field><field name="VAR">v_y</field><field name="TYPE">int</field><next><block type="variables_set" id="`(T`~D9sm@jOCj6i,,[1"><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_number" id="6c,z!eD-hEl/{W$pShyo"><field name="NUM">2400</field></block></value><next><block type="variables_set" id="rS2lgjr83#6IP?8BMtSY"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_number" id="g-b3HN6Q;8;Xmat*l+pF"><field name="NUM">0</field></block></value><next><block type="variables_set" id=")[^J;T(I/X4u/C*s$X3)"><field name="VAR">v_time</field><value name="VALUE"><block type="math_number" id="4^SJ|0J,[j+gOc)NEC41"><field name="NUM">0</field></block></value><next><block type="controls_whileUntil" id="_qLmVt@uK(|(3;$i)0M,"><field name="MODE">UNTIL</field><comment pinned="false" h="80" w="160">X正向移动</comment><value name="BOOL"><shadow type="logic_boolean" id="fSr4yW}+RAzWuw8}FehZ"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="?x(O!lpaZbmy.~Lp=77A"><field name="OP">GT</field><value name="A"><block type="variables_get" id="+#u1`Xh:Ey@C-RuI$h36"><field name="VAR">v_time</field></block></value><value name="B"><block type="math_number" id="2$CMrTBy-Hz!4JBu8XN`"><field name="NUM">3000</field></block></value></block></value><statement name="DO"><block type="variables_set" id=":HK;,Ars?17TK[Zr}b:i"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="Jx!H;kYvg#/ZFnU0gT7^"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="?h{7KQq)E}Ec`|H8knV0"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="AKq2aN21=M?N?e9UgSHb"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="sv*Lil3}?7Mwd5CfqN]r"><field name="NUM">1</field></shadow><block type="math_trig" id="d~PgG:K.afuq3Km4trz+"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="zyt{YuGO]|9{kSyFW,bz"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="+O|iT,fPV[PuXODR~4(T"><field name="NUM">1</field></shadow><block type="variables_get" id="?u^l!x7B/9F@;rvnyC{U"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="qPG|dUkAP$pO4n]}?1FV"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="OhEsz~1gC-Q0I6t_oMzr"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="9faTsTU6_e_}4],z[0cz"><field name="NUM">1</field></shadow><block type="variables_get" id="le0u4?zTt=P7Fk4590Xz"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="~jnko7VPGCUFN8(z/G)2"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="ad+gOcpR`(eXJ$w[#l6W"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="n@qxJ}ssi*iET^wijvrP"><field name="NUM">1</field></shadow><block type="math_trig" id="fd|7x*=ms|rM8i_k7|`_"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="w}mcG(]Tk,7|Fd;5J|qH"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="!afA!7Slt?tvP_-IhUy8"><field name="NUM">1</field></shadow><block type="variables_get" id="(XBO!kc`(HY|),*IZ5ev"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="-)vfSFPBN!).PK=uSvD5"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="Z7*,5?~Xp|.WTEW(+CVg"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="e@;Cio:8*iKt2_4KR.t6"><field name="NUM">1</field></shadow><block type="variables_get" id="s~oT=_?_ydK*lhF]Ji3q"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="z~:.:TP9Q03T)N!,13T4"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="z=U63N:#S?qxq9{Qxn-C"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="yu+1^;aYdMiR19Ia0.rM"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="j.$*BPjvOyF+/p,k|pXj"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="iI{sVK=_istKFz^Dc~iI"><field name="NUM">1</field></shadow><block type="math_trig" id="{J6nPI*`/fUceZiGf4t2"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="6z|:Y5dq@@2a[{~fCL,M"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="I!ky7CN/FZoxvpC*tTja"><field name="NUM">1</field></shadow><block type="variables_get" id="=Wy^.$U/3CuPM5W,glM0"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="mY;!S7R?^Rr-(;is$SUV"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="8]..FDN-,i`t66Vsmb^M"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="RXGPuWwuDLkQ]QX.=05."><field name="NUM">1</field></shadow><block type="variables_get" id="ybjB`Qm:]~XB+BO-B[Hy"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="I4^zg40amz8OSlKmcrr."><field name="NUM">1</field></shadow><block type="math_arithmetic" id="9Y-EPD6u()dsS)s-=?J#"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="6=U]/d.!oaPc|-9)h#R3"><field name="NUM">1</field></shadow><block type="math_trig" id="AbQH.x1W[dNWw_B(KHpy"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="e+u[4zyy[z+n6r$:AuYF"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="d.Q_w;Rg{HtgjOCVy-J="><field name="NUM">1</field></shadow><block type="variables_get" id="h{wO)8VRLleYZ)mn=2s8"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="z8*W2lm^a#2U4dLW]O6W"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="vq)!n].Aj|,;P@Q4i!4("><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="4xVZ8.Uzf[^Ha#Ozl~!t"><field name="NUM">1</field></shadow><block type="variables_get" id="xJbG_eFouq=2Mp9f_9.="><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="chassis_move" id="Z+#u]}9V*d_Vd8SFrm^l"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id=";ygqwn*?H@e!:X!,-RSh"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="8/tuewYyb,A|U18W|SVa"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="fLMoO}e4F9[+h4}mJIyn"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="aj?ge(s9@mi]U(O-g;_4"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="=W|Xpw2:^ujo1V_|lYZp"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="Pd9c~nwD@tyMIEt:a|_E"><field name="NUM">1</field></shadow><block type="variables_get" id="8^z[H@Jwy!uN3(.ya/kQ"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="o|3@e?nGfQTzzatwE5Z3"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="~b32,^oUF1B[C;;e:7Gk"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="vE,LwV^W^C$~$r$*QszL"><field name="NUM">1</field></shadow><block type="variables_get" id="VD;foIz,L*oXT~I*sCW1"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="!I[$7yyropXv@W*IlI?f"><field name="NUM">v_y</field></shadow><block type="variables_get" id="[wj*ecy*;AZlFUG*a#[g"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="yLJ3WGt5h;gMS@e.7LSv"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="t7(!1CGa+w=zqlMW.O:Q"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="8}e386/82l+P6A$4p0zr"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Zl=PBk*{=lC,KUr#!3H)"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="r`Zyaj=6?goQBxk)HS+!"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="t7)k7e[=[$z(;ts80xWH"><field name="NUM">1</field></shadow><block type="variables_get" id="~re1`:;D=MOWIt:RiQ3s"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="Ga`_Y?C}l_G_d+=Af!z-"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="l0j?y0aC-o5KQoCim7V@"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="w.Ep5nHa@Sd[@:(HjYiD"><field name="NUM">1</field></shadow><block type="variables_get" id="F}l$q6FztriJLXaQp93?"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="o;so*Z9gMXe-s.HgFv/$"><field name="NUM">v_y</field></shadow><block type="variables_get" id="H}if(qWs#_pD}P(,5IPC"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="!m5Uws~w*8B;]Gc@fRYg"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="q(!f);J|q-`Ot~R/A[W{"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="5nhc{KIz_4Rza4=O+:=m"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="[hUDdq_$cw;$?4c;8cTz"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="nq~6[?(2~jdS$?OdR6d6"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="vplS/_}B]B,mQ=:IAg[("><field name="NUM">1</field></shadow><block type="variables_get" id="bG3)qm#HR*@8yuq.G*Hq"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="B=3IJlER_J;9`mNIe6o="><field name="NUM">1</field></shadow><block type="math_arithmetic" id="CGryb/[K_Gs^Cj!(;xbU"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="(j^sTNYIIi{ojY~wi`mr"><field name="NUM">1</field></shadow><block type="variables_get" id="6wSZwT6$zH-*nEfCc+MC"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="A5/p|AEIqqyKrPJ3FR)u"><field name="NUM">v_y</field></shadow><block type="variables_get" id="*gt3!FAB2Uw#fybzWnVA"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="xnKbWpN84/bm-uw_~R6("><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="1?:yfkdyuE258K|~24b2"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="p?Pwke@cxuF=)b8|N9@_"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="+{3:4?(X)rPOLo+dlOi3"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="(=PmmJlei[G+Hbt|$NJ:"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="9SR:Y{hjQ@)9paCU1kZv"><field name="NUM">1</field></shadow><block type="variables_get" id="#LJe$;9@|^B$hXF5KpZu"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="MN.t!qPA+;fws1#o}}_:"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="a-{]C]#@=#_+$,U=fDOf"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="@|r)z-s:x]=O`rL*YiM)"><field name="NUM">1</field></shadow><block type="variables_get" id="izeIh6-Dd34FRP87X=xo"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="!??ACK5k1(*Rv.3rft{F"><field name="NUM">v_y</field></shadow><block type="variables_get" id="u7CS|L5*Pg@.2`F-=ydu"><field name="VAR">v_y</field></block></value></block></value></block></value><next><block type="variables_operation" id="JPo*^$Vn4#/#Bl!P~*J^"><field name="type">+</field><value name="variables"><shadow type="math_number" id="o=dUSH(?d!eS?A#(~)y+"><field name="NUM">item</field></shadow><block type="variables_get" id="c!)6maiNah2;R*@OuL+C"><field name="VAR">v_time</field></block></value><value name="data"><shadow type="math_number" id="WJse;Ul{$UEp+Nd2uJE}"><field name="NUM">10</field></shadow></value><next><block type="controls_delay" id="E*0QeO[!+3M5@aIv0+/8"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="kf#jG$s*//xX:a=dk$P^"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="C?/Awi-j,b_0y=g+c+tr"><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_number" id="tQP,MQL;r[9MW{}/H$^i"><field name="NUM">0</field></block></value><next><block type="variables_set" id="o~|{2{jz;dD`Rw!ZsTuK"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_number" id="01zo$PJ8eR)HJdKM3Vl;"><field name="NUM">2400</field></block></value><next><block type="variables_set" id="nwm~Qf[U,#A3F0[*{;5V"><field name="VAR">v_time</field><value name="VALUE"><block type="math_number" id="WL4kRsB_[5nz1K$Ykj5+"><field name="NUM">0</field></block></value><next><block type="controls_whileUntil" id="v)mKOU9M^cg^@|(+|+|/"><field name="MODE">UNTIL</field><comment pinned="false" h="80" w="160">Y向正向移动</comment><value name="BOOL"><shadow type="logic_boolean" id="z^lu[,bk0FK~yXVc^@u]"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=",d_B.!@8}XI|i3#PZlDI"><field name="OP">GT</field><value name="A"><block type="variables_get" id="iHdE=yX}-4Ek_9iH(O~V"><field name="VAR">v_time</field></block></value><value name="B"><block type="math_number" id="UyVj*j1_Qx??BOr/b|cn"><field name="NUM">3000</field></block></value></block></value><statement name="DO"><block type="variables_set" id="RvT_yoLH8,+.TnFls$G4"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="#-/d)hg]xj4zLmAkr}ku"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="D|LvJ31Us/R.;G039[8N"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="M*ikCR#XLg4+bIy+CCBB"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="q*Usc_jN(2!fUvg}W8pU"><field name="NUM">1</field></shadow><block type="math_trig" id="df,S?K3_X(hbLI2z]KUA"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="=q0!EB6RuOjpvB17LXBD"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Uapv3!ON)1Kwf|:]$`-1"><field name="NUM">1</field></shadow><block type="variables_get" id="nG7K~ds4Jx_$NTd3jg3_"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="8f#{D)~}|h=Rk#Oc98OF"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="[_yg:/6J|IY#02XpN[oI"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="R,-A{hBRqD-M)4|I2*h6"><field name="NUM">1</field></shadow><block type="variables_get" id="]cB/vsvoHSM(Qa+XTaMN"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="DQ=NZ.;wVYJ{;sr[fjF0"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="slAYx_Vq/W82Yw?s+R?b"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="86I]iu+nudwGXrckW[GC"><field name="NUM">1</field></shadow><block type="math_trig" id="Sw}(LEQa;_n~lV+RQqTx"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="eWrkGQjKwbmhU6Y**jlZ"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="5)Vox}FAEg}{}=XG-yM6"><field name="NUM">1</field></shadow><block type="variables_get" id="@oB/o-(ZW:L(Pf)ody#p"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="gBTfU^Tq1TKX[EYddmP*"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="6:CUlL$kGVI/_cL/Tfab"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="W?I!ueIs=K.)jN|GP8pr"><field name="NUM">1</field></shadow><block type="variables_get" id="^EtlTqxs}M7e7KBtI~`Y"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="~-8rlq};t2,S.A|84N4]"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="uFZC|!23O{[uA(OsutUL"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="g:Wirn#hw?[r{,jq:z~8"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="xBew1=opIpl/4z,NoqI_"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="UPIAC0_.t0}MZ,r^0@pu"><field name="NUM">1</field></shadow><block type="math_trig" id="suis/OTPQG$eI9ni[M@e"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="^Gl.l0e+Nj9tmtb+Hggs"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="QOI`n!aIJ?5@$tXx:[Q0"><field name="NUM">1</field></shadow><block type="variables_get" id="q@5hlTCCgk|Fl_*t,F/?"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="{k[Z[~d-n_Y-2{,5bs`@"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="WV7D)c][^NudZ+64U`ZG"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id=").t8Y[EcYV!v]DJ0K))y"><field name="NUM">1</field></shadow><block type="variables_get" id="FrMI.=9W5Beut$$dfphV"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="?^}FP[p{@koLtUip2Ml~"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="wVjQTp9APuQ.Syfq-b2L"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="kS=M6kH{X$PU|{k?+Xl["><field name="NUM">1</field></shadow><block type="math_trig" id="r+R1ziz3ax=U~oD:Q|Sn"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="7Q[T],zX!X+2J:IU]fc]"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Bdx6Crsamar3AQ[7Gv]S"><field name="NUM">1</field></shadow><block type="variables_get" id="Jxz6D)pc[Sf:1U0A[:e/"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="6o7g[?kq=+3b3NE{dA@x"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="!T*QF[cTO3zEv6=kIerM"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id=":8PZ82hx}$`0b{(LQou`"><field name="NUM">1</field></shadow><block type="variables_get" id="r(wSO$h?I7[BxP8*UN;5"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="chassis_move" id="jz}(6Fq)l3pHbR/aO:wh"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id="~-DN)pJ9Hde/yWUx)Vug"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="G1!gMDI||]CGlMDog9Y~"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="2RT1H]^8BJRrtU68D+k/"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="le]}7t8~j9E!Bi+]9}km"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="#;C00Gs!5nwi/V,GI]C1"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="ELnJ.2CItr_qCUlIQmWz"><field name="NUM">1</field></shadow><block type="variables_get" id="FY#@|D0-TlygUY|1u!kP"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="?.:]8q*y:hP]!*QVY3[Y"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="0!}=6(DZ9*9gXNrMvbsx"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="8a;BzI_Hq/8w@`,*[7^2"><field name="NUM">1</field></shadow><block type="variables_get" id="Fcgj1zGaC*FcoKDlf-d_"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="^2)cB_;LOfUX.x(m@e`v"><field name="NUM">v_y</field></shadow><block type="variables_get" id="T@0L![N#8*L#WhencfI2"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="KZZ-a((L.|TmK[]v|onf"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="AyMKW{B`dt31/aD9rhA}"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="z(JaY+JGUhkgej[d#-#P"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="{VM/FT}Gt#]Mi?-b*wqf"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="y~Z(!sHePd#p9^bb!zbe"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="~]hRjS][8av?1Y.f6.ns"><field name="NUM">1</field></shadow><block type="variables_get" id="t6oa?itrDOftrksjAK!+"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="na1z_]l1IS7Bl$i=s=h|"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="W0SboGi$O(=Rx5eKYEID"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="F-^Md`3rirwHQ]u=Z^LC"><field name="NUM">1</field></shadow><block type="variables_get" id="M},E8}l=GxR]geS!,~vk"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="rj4isS~Ja.~R2z3Y:$`S"><field name="NUM">v_y</field></shadow><block type="variables_get" id="h^5e]6k4)M/7d:@$O/Ki"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="6E2AYwAMIxvmT*0q@X=#"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="-W1t6Z);X[k8(?P+[VE?"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=",P~S]Azj)je[2,8a,*EW"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Ldq:zzjdC3UwSXil+w@~"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="g:tJ;heO:hLG)VziKbrH"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id=",|Dk[VQSe^HNH^Vi*8=7"><field name="NUM">1</field></shadow><block type="variables_get" id="wBty!S0~i,ZKH}{s5v,o"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="4El=v3~oBM!Sz@2n0oPf"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="2}GR=XpEG@WGSovR}~OH"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="?}J3]H=}$!H7#u:yG#hI"><field name="NUM">1</field></shadow><block type="variables_get" id=".UgiL-5L_,)q-Xd/(O=e"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="8}rU!8CFpSe}NO=1b@t:"><field name="NUM">v_y</field></shadow><block type="variables_get" id="sP-,E;+o;p-kcz8ZLG`o"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="RH_QdiemmN86U:jZh?R^"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="2gYf8NR$qhE:Y2,r_u]a"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="H=3qjBV^?k}gRp:)s#U)"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="G9~tX]IK,QFBjntmWP1J"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="$R:rv^-io]@NS30rba+*"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="_?*WGpCPGgI*_78q8TMI"><field name="NUM">1</field></shadow><block type="variables_get" id=",ZMU~|hzWE$yznc[)HNg"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="P5}=.UIVf-42F{j8+i4P"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="kY?@{z6NMX9n`H*{9L8#"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="lllx=XO_?leI^[c/gL.-"><field name="NUM">1</field></shadow><block type="variables_get" id="e{@SAdY]1Bq2{w{lAZ#="><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="vswqhy4$^_N(hzeB(Q,F"><field name="NUM">v_y</field></shadow><block type="variables_get" id="S8G.zP~tT@JvohLmemJ)"><field name="VAR">v_y</field></block></value></block></value></block></value><next><block type="variables_operation" id="l!gNvWdE~N|g09x7s2Fu"><field name="type">+</field><value name="variables"><shadow type="math_number" id="aa#CYtB?VZD#YB[Jv:F_"><field name="NUM">item</field></shadow><block type="variables_get" id="+8,B8vP?/?TL7=hiV@}-"><field name="VAR">v_time</field></block></value><value name="data"><shadow type="math_number" id="f7;DM*eZR6Y6c38UfXra"><field name="NUM">10</field></shadow></value><next><block type="controls_delay" id="+GJ*^@h6gx~M)Rx.}iF("><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="*GN~lLtS(B](j],iklTk"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="augUay_BZrt0]6z5h2p*"><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_number" id="aDKV{K9G$V0E@CawvAD{"><field name="NUM">-2400</field></block></value><next><block type="variables_set" id="rB4MIB==k~T4#N+4:9Gn"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_number" id="mSb}C.U8yn,;WAY_d+rB"><field name="NUM">0</field></block></value><next><block type="variables_set" id=".bl4a}Nv[r8oovv(0Nv2"><field name="VAR">v_time</field><value name="VALUE"><block type="math_number" id="DB4Q_rU$jCuXHR|mA@Sd"><field name="NUM">0</field></block></value><next><block type="controls_whileUntil" id="gPnfa8~a7~=@M+.{U7w}"><field name="MODE">UNTIL</field><comment pinned="false" h="80" w="160">X负向移动</comment><value name="BOOL"><shadow type="logic_boolean" id="ckc#~L:#+AR*j]`XA3!X"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="Xj1(@A^tW9y+b5p1jYSP"><field name="OP">GT</field><value name="A"><block type="variables_get" id="GTs4uxWLcGE87#a#@THV"><field name="VAR">v_time</field></block></value><value name="B"><block type="math_number" id="fL-qe9:Zz7uRku|C)*^h"><field name="NUM">3000</field></block></value></block></value><statement name="DO"><block type="variables_set" id="Sy8.0=j^RZXqqxE#a=9Q"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="tLulr*BUh[_!OoB$$;|T"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="0.2WkLj3dK-ha0jcYMal"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="f=bST]gb#M-h+NXHGW;C"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="}M]my]!u{F^4bSB4qv$^"><field name="NUM">1</field></shadow><block type="math_trig" id="}FgNEuuLkP`R)GAdEK6|"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="BP@iPFwIQ/Cw9HDsCqqG"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="({~b:+RaCEzFzgpJLw5p"><field name="NUM">1</field></shadow><block type="variables_get" id="z[E,7(N,|C^+wG`QeNGp"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="(8K0xBjyVxSzu-_:N5.{"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="W~Awp2{*,[*~uXA69gQn"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id=",l3N{BRTc!:OWlBM^d,I"><field name="NUM">1</field></shadow><block type="variables_get" id="S#p{?IA9_KY9x1xV];b}"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="A+0o12@l66+1OD!!A/q4"><field name="NUM">1</field></shadow><block type="math_arithmetic" id=".[p@59$xiz3:uQUd]mi;"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="jI7-:+UnBT4-8fCudf)V"><field name="NUM">1</field></shadow><block type="math_trig" id="s4{Lfp[.L{h(_W0ZPGwc"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="yd|hAah1np)6$egtK4=["><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="k{.D6]Qe[gTqj~EuT`46"><field name="NUM">1</field></shadow><block type="variables_get" id=":nq4`EI(13yrpN([{zJ#"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="+jN,;J!/oKHmU]K|4T{^"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id=")-C]1kZ__y=3th8zOfQN"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="`DaIJ_iN@y99KpX@P)M1"><field name="NUM">1</field></shadow><block type="variables_get" id=":3b89Kd9l#lnnARLVBQ`"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="7`seo:6vVcIAClt2Z.uE"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="p3,6bjBjTjx}7:c@XxV5"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="@e;.40|+~HIIA[TB85ou"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="*gz(3xaqvRp:,dx!P_Vp"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="5Wf[,0gcoxYBkii(|sFt"><field name="NUM">1</field></shadow><block type="math_trig" id=".1c{xvtN:EVrm4;u)bqP"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="x472.9Wd`;pD5HW`OWPv"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="6Gdiv-A|xCVa7FA`tfvR"><field name="NUM">1</field></shadow><block type="variables_get" id="HpSL6wtfR.wM:7qbr_Aq"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="5.1/4wp`C=IEzf*JI9f3"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="UTf~9n3NyUoW)yBcL8~_"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id=",CDt?P{N9TF|BO)5iRk*"><field name="NUM">1</field></shadow><block type="variables_get" id="coPMlDz#SgGJN|dy#+DI"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="NAlmH3$wE)lv11IS/82$"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="3S,V6K8j.v`JwWuEjy;x"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="}i3LN=cL:3Oa(p~nFyq["><field name="NUM">1</field></shadow><block type="math_trig" id="g+[thEBXcaTu9W9LB7?F"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="~hoAyAfoedjaz[nZ/3@s"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="vGc-Et=J/:-Nh5Lia5}2"><field name="NUM">1</field></shadow><block type="variables_get" id="O3uA9,QOPZ{TB26}xxbR"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="4_25CzV.b25}1a`[~`-("><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="|jfkKnOYB8)a,zU2}iTW"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="BsT,mH-J#+2t=q1A(BA/"><field name="NUM">1</field></shadow><block type="variables_get" id="gFnm;w.*P0)40g8p}Bv["><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="chassis_move" id="5usnnrMXwR2*g$N(]b0-"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id="R0KtgUGUz`BfZKizqRQk"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="3Xl#;$-:z;u?VKl(;Pn^"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="hzIyl1r/*x:|u$zB_$+_"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="^NOs}*,8hpa/PzvrL{6u"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="4+Rx2^#2axBTK/1pyS9E"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="m}SCNNB!xOciB@UY1uDP"><field name="NUM">1</field></shadow><block type="variables_get" id="0;oU^i}Rs=SLgCwC01r9"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="tGzkmh[*pD4By#Te4-{{"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="b7E!!k~G-.6=MX{6rWJD"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=".[{8#w36FhI2*V9p70W?"><field name="NUM">1</field></shadow><block type="variables_get" id="/)AV/LaNzx#`n|KyPI5c"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="-};=tnBTmD~OKl,![F^D"><field name="NUM">v_y</field></shadow><block type="variables_get" id="bkD/q`.Tj[Wt4q745tqu"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="[/`HLs@Oe:!C}Ru7[Y+W"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="zp?ZMeajxlBfw9N+L{{L"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="Fo--VMCMX=-N)JXiJr@^"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="fOgz}8*7|U_?|Ty7QQ,v"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="8d{@{@:=ne;S/LAV/j^g"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="iWB6EV)0GO=kcIl$R2X7"><field name="NUM">1</field></shadow><block type="variables_get" id="32gbrEQU[}@6rF22fP7u"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="U/K{qK)5yO+YSp3-w`nW"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="X)jKC?PNI,eQfr))dqve"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="9nw:gzSo_(L=83QQxLHe"><field name="NUM">1</field></shadow><block type="variables_get" id="R!J25?L^]d{ck5NNh]9l"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="LjS`OatCel^HYVGHdp)Q"><field name="NUM">v_y</field></shadow><block type="variables_get" id="(XQUx_?n0Ch[uKqC:o~K"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="7^:Ex:WZ7MW5_d~g^hcr"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="h}d}vw-Q83m/Y1TLSN2n"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="Rv*eB3b}hnPdHVVs3/$k"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="bFv_oYYOP(#bd:A5fPR("><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="J|xd${Meg{Zb`2Nfc;a#"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="=6p{7ZaxlY+ytsFh+,r?"><field name="NUM">1</field></shadow><block type="variables_get" id="6WeEcFY]sjiN;8:pROBp"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="Zox!@}rKs[H+}JtzX?p,"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="ac@X-*WAP6EWn@i{.]nr"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id=".@{|({:o.;:/.]MBEXR3"><field name="NUM">1</field></shadow><block type="variables_get" id="}mjFJ/nals^4]q0a$rm4"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="[p)T@8=(^#:i1R[`)[P9"><field name="NUM">v_y</field></shadow><block type="variables_get" id="z4uBa[iMvVKpog0;}:yu"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="agrn54z.DhH81I()tX^p"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="RKo0L36WB$?O_#p3se9="><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="uM87?4|9nwJe7$VkK_i9"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="wBz1-k|4Gs}`p?6VQFV="><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="g;|(VX82?0c?$Lloe*)$"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="S;{t.IiUtZ^Lux9~)iL!"><field name="NUM">1</field></shadow><block type="variables_get" id="6Xje~V:@N/F0$+h]Dw{e"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="aBo3G^MpJr$.lG+H*C8K"><field name="NUM">1</field></shadow><block type="math_arithmetic" id=",hcF7CI5OzL0froMHDd`"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="4y^Ia6/DU$~f|?Vg1H5o"><field name="NUM">1</field></shadow><block type="variables_get" id="{OaRey5xoc+VD2W[;wTt"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id=".pmVLiJ/!CE5L~9x~BrI"><field name="NUM">v_y</field></shadow><block type="variables_get" id="#T5J/].pgl#w-^cCvVHQ"><field name="VAR">v_y</field></block></value></block></value></block></value><next><block type="variables_operation" id="|BIz:[=R0#,GbZ!M~$O3"><field name="type">+</field><value name="variables"><shadow type="math_number" id="d#rE-{yd4U6-pxDa7Yd`"><field name="NUM">item</field></shadow><block type="variables_get" id="G!O^SC1gMI^A!oO?Fjhs"><field name="VAR">v_time</field></block></value><value name="data"><shadow type="math_number" id=")NBvoO[7/`#+?|i_8Tkx"><field name="NUM">10</field></shadow></value><next><block type="controls_delay" id="ujckc4jYCmNRZ7AoJ4Q3"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="K!TK~xI#?]a3CYJ+Me|-"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></statement><next><block type="variables_set" id="3nl;_Wy4y*/OiK-8J.d("><field name="VAR">ref_velocity_x</field><value name="VALUE"><block type="math_number" id="_[9R#{{70|_i2-_.lJth"><field name="NUM">0</field></block></value><next><block type="variables_set" id="So4.(8bU)9XVqt$]h$yL"><field name="VAR">ref_velocity_y</field><value name="VALUE"><block type="math_number" id="[m1ABxXRgT/v#1EETi{1"><field name="NUM">-2400</field></block></value><next><block type="variables_set" id="53.UfEnZ=.QE9i~fPI^O"><field name="VAR">v_time</field><value name="VALUE"><block type="math_number" id="lp?nN|M9dt[:t-S9lz7g"><field name="NUM">0</field></block></value><next><block type="controls_whileUntil" id=";n@78/N/L!Jy~CyOUZI."><field name="MODE">UNTIL</field><comment pinned="false" h="80" w="160">X负向移动</comment><value name="BOOL"><shadow type="logic_boolean" id="jrvro?uI!UVE(F22b6tU"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id=".k^Tx?W~_/35u2Qi:v8h"><field name="OP">GT</field><value name="A"><block type="variables_get" id="nbQ4V*vrUJaaGW`8*$uG"><field name="VAR">v_time</field></block></value><value name="B"><block type="math_number" id="RboTI3FI=)6aU$?PQah{"><field name="NUM">3000</field></block></value></block></value><statement name="DO"><block type="variables_set" id="f3:Ne7jFTkd+0X=3EfpR"><field name="VAR">v_x</field><value name="VALUE"><block type="math_arithmetic" id="?avC`G::K^JoChpG]HGt"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="JFi`Ch7Je(8X-y9tO,Jc"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="1J(cBP=$;tu-Gk6;*5fk"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="hStZ}2t_uFAjesh1R+0n"><field name="NUM">1</field></shadow><block type="math_trig" id="#~ev[A~::8gpFAmuNDGn"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="ynQ]o;MbMGfe7PL2_0;u"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="BNJ[r6K,{t6HSdCUG_]U"><field name="NUM">1</field></shadow><block type="variables_get" id="::G}t3aYKXXD0B9$qzJd"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="mzOVfc7yTB(6CuX,G2-Z"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="AN@wQsb*L0ECAGt2*FwS"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="WsxW~;AD?rd|2VNY4S*n"><field name="NUM">1</field></shadow><block type="variables_get" id="]w^Q}q9/3zl*2N8e^vas"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="`b=/b.f:Kr?rz25/[l2D"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="C2ChIDrf8TEhlrN$4#`@"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="+GR@ul#p*:{Y(Ex,?)$O"><field name="NUM">1</field></shadow><block type="math_trig" id="}C$L_OIo,RTj,)d*9o8v"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="VyAqE?IckD4BCi_/),[2"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="XA66O!gI~)4pwCWnNtk)"><field name="NUM">1</field></shadow><block type="variables_get" id="{iDXNeUXI#9juSHx3an_"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="58KE?UgA3N*:AWTU7c!P"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="T[zos[,^1w@}K2Suo6@t"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="?lSc{#:s^{HT6Q6OQUZR"><field name="NUM">1</field></shadow><block type="variables_get" id="YM=A,1BiL8S|*SJ-GCV."><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="variables_set" id="@!`}U+PSFc{1d`)~/6T$"><field name="VAR">v_y</field><value name="VALUE"><block type="math_arithmetic" id="-0$),/gosPN$oYQyIm~D"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="i1i}k0w]k=Ig=WzCTyrB"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="hFAErjejbKM@d#Z*L+P{"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="?D5!6SGMCYZ:{Y/Cn=R]"><field name="NUM">1</field></shadow><block type="math_trig" id="~@auM~[,_9+)u=ittL]T"><field name="OP">SIN</field><value name="NUM"><block type="math_arithmetic" id="!@HrWk#^y/qQd}?wk.2M"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="m[o.5}y(q0GKBkJ5Z|(0"><field name="NUM">1</field></shadow><block type="variables_get" id="mYvdA-rF08T_R1oIemDP"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="65D[LOu`CN(N|Bb;-{;I"><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="K;W(N+Q@g5/p=KnwJeW2"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="O54e?`to+Ep_U.YsQrBP"><field name="NUM">1</field></shadow><block type="variables_get" id="HPf.~OZ:qjmHI[S7,sKY"><field name="VAR">ref_velocity_y</field></block></value></block></value><value name="B"><shadow type="math_number" id="RmQCn6D`_:m8{Y$Pe$-="><field name="NUM">1</field></shadow><block type="math_arithmetic" id="ZJ*WCQl0$7oM#Rhv]x/3"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="9.ckEqp@lGSxy=lxDs7}"><field name="NUM">1</field></shadow><block type="math_trig" id="fp.ha]5!`ziS:~7oIx#S"><field name="OP">COS</field><value name="NUM"><block type="math_arithmetic" id="j(,k{KS*pWdex_O{`_(p"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="6q9,Y.6i=hv_mnsw!oq4"><field name="NUM">1</field></shadow><block type="variables_get" id="V+@j8Zla3c!B,FO=@yUb"><field name="VAR">ref_yaw</field></block></value><value name="B"><shadow type="math_number" id="rvyzLAA9`^Le9=_hi_B("><field name="NUM">1</field></shadow><block type="chassis_get_ins" id="Cvxha];}2PV,jwj/;ueq"><field name="ins_type">0</field></block></value></block></value></block></value><value name="B"><shadow type="math_number" id="p|]WqH#iu)g4V:`H4,nQ"><field name="NUM">1</field></shadow><block type="variables_get" id="Vk@Okw@Lpo6VPWs_TM3Z"><field name="VAR">ref_velocity_x</field></block></value></block></value></block></value><next><block type="chassis_move" id="(r4yIEa~6;q1edZyoJ8`"><comment pinned="false" h="50" w="50">设置轮转速，实现移动(前)</comment><value name="rpm_wheel0"><shadow type="math_number" id="b0#~4Tq6TovdKb1nwbp="><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="$Y+^iWHg5Zap/^;M?T)|"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="Ds)e:UVs~x{w:6TnjjyP"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="HCJT7B@aVS8EdDK_Xt#y"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="|6CW.heXQ;KGu$70jsCl"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="CbmFKoO0Lrz@Wm8v;3sT"><field name="NUM">1</field></shadow><block type="variables_get" id="}^B)^IEsFOtppvnQu4/j"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="):M()H`5@r?{:iUi:K9R"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="~wcZ)-JKGeQ6wZ^@=Bh}"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="4A42aI|zE4LPg@1T8I}H"><field name="NUM">1</field></shadow><block type="variables_get" id="[gzG[9t3:!}]M,80pdYi"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="=:F7o45Kx`Osuz-,sV(j"><field name="NUM">v_y</field></shadow><block type="variables_get" id="G0!dJ{b#b/{ivQJ2Z$`C"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel1"><shadow type="math_number" id="98!f1PW(dJpGH^vzBe5C"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="hB!B@5H,N.$WkUNau55?"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="kFx/h,f,~q_0W854sJ1;"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="tel)vy}_Q/SN:+au45V)"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="[tlV.S(_](uD8fbXf}M,"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="xr=PgV5b59R:?*FLoJ~("><field name="NUM">1</field></shadow><block type="variables_get" id="Pz?DxcqvOEt#lSsRH)`N"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="B[PO_h+RekzY+x/[-df?"><field name="NUM">1</field></shadow><block type="math_arithmetic" id=":9PSImWJ3;qGZ/bXA@OK"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="G3sEjswSu~K}qIN:*e1]"><field name="NUM">1</field></shadow><block type="variables_get" id="waewS73,@pPI:`$~`R=("><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="-|CRtI;!H-QR~b,|}DRD"><field name="NUM">v_y</field></shadow><block type="variables_get" id="L3U3#,KZAg=_E{_MO=`#"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel2"><shadow type="math_number" id="nCJs~l(PorEYBgEQZC3-"><field name="NUM">600</field></shadow><block type="math_arithmetic" id="qU_4]y$/EsmUa$We9ASe"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="in}I-La7-xV;f.q/.q:0"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Z|69,]}(F|t,hK$V{[c9"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="N`~@7(:fyV#9FpCLr2g;"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="l]?ySzHYgGYHsbe;Cz$)"><field name="NUM">1</field></shadow><block type="variables_get" id="S6l1|)b$/sgDhkfZCGvF"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="(apo#wvcCD4!CjHLm+E7"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="g$IWC6;[N6G7F/6Fpnq7"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="?V;O}MIaNJ|=(N1e_Rk["><field name="NUM">1</field></shadow><block type="variables_get" id="docer:GXW|e#{i8J/;5T"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="r[.=Qwmv?Xi#1sOt)GwI"><field name="NUM">v_y</field></shadow><block type="variables_get" id="Dfi}c@*SV[/UT-66YY(o"><field name="VAR">v_y</field></block></value></block></value></block></value><value name="rpm_wheel3"><shadow type="math_number" id="3lQWyrpkvgXT+2m#/o?f"><field name="NUM">-600</field></shadow><block type="math_arithmetic" id="oJULl`@oUcM-.C6L6VDu"><field name="OP">MINUS</field><value name="A"><shadow type="math_number" id="M7M$_=3tJhsw)u{g4n1}"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="Tw1@~fJeA6Y_9{8mi(d8"><field name="OP">MULTIPLY</field><value name="A"><shadow type="math_number" id="Q=G}:g?](X=Bc!lzB@]*"><field name="NUM">-1</field></shadow></value><value name="B"><shadow type="math_number" id="Aud:FG!P]Rq.jK$Th:xl"><field name="NUM">1</field></shadow><block type="variables_get" id="ap~pbU;wsPP(GR_|mORd"><field name="VAR">ref_velocity_roll</field></block></value></block></value><value name="B"><shadow type="math_number" id="+7h.tx}k6)JVofpPru-j"><field name="NUM">1</field></shadow><block type="math_arithmetic" id="V~/Q`NgY.Dk9`u?b}R8j"><field name="OP">ADD</field><value name="A"><shadow type="math_number" id="o!qY,VElTo8ufry2$G.m"><field name="NUM">1</field></shadow><block type="variables_get" id="g?[Y~:.0+R0M5-}82`j}"><field name="VAR">v_x</field></block></value><value name="B"><shadow type="math_number" id="gasgSfdfK:tb+M=]UX$l"><field name="NUM">v_y</field></shadow><block type="variables_get" id="i$S`i`RPC*[yGtzZzz?W"><field name="VAR">v_y</field></block></value></block></value></block></value><next><block type="variables_operation" id="YC,B1Un4.wL76!sUz;#e"><field name="type">+</field><value name="variables"><shadow type="math_number" id="Uwn-n,hJ0uM7EA.PE}K4"><field name="NUM">item</field></shadow><block type="variables_get" id="}}rZ$1cs]N~)+)S)+hA_"><field name="VAR">v_time</field></block></value><value name="data"><shadow type="math_number" id="a@`etDT/q+56oPw8rSag"><field name="NUM">10</field></shadow></value><next><block type="controls_delay" id="vJOeR$D$^!d/*07ih~#`"><field name="UNIT">delay</field><value name="DELAY_TIME"><shadow type="math_number" id="siVgzXM!T!IJ+,M4fLnQ"><field name="NUM">10</field></shadow></value></block></next></block></next></block></next></block></next></block></statement></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block><block type="controls_runnig_core" id="w]pc*qM}(pPx)WpewTZB" x="-157" y="-52"><field name="task">1</field><field name="core">0</field><comment pinned="true" h="59" w="326">创建一个线程(Task)用于LED控制
注意: 只能使用Core0，且与其他线程不能同名</comment><value name="length"><shadow type="math_number" id="82N+8(Fo`R*?[+s)EUz@"><field name="NUM">1024</field></shadow></value><statement name="setup"><block type="led_init" id="R(-Z,)|Wwmsl+t9FMa@h"><next><block type="variables_declare" id="67xtg[AEdLwBk.3JG|6G"><field name="variables_type">global_variate</field><field name="VAR">color_r</field><field name="TYPE">uint8_t</field><value name="VALUE"><block type="math_number" id="F7K4vNk9mQBBS^-;jXJp"><field name="NUM">0</field></block></value><next><block type="variables_declare" id="H]E.}x1FrqnVkc}E/Q*y"><field name="variables_type">global_variate</field><field name="VAR">color_r_dir</field><field name="TYPE">char</field><value name="VALUE"><block type="math_number" id="($p~bxYPGK75+mVF,n.O"><field name="NUM">1</field></block></value><next><block type="variables_declare" id="mtLEVw=s4ooj9rqtk^v)"><field name="variables_type">global_variate</field><field name="VAR">color_g</field><field name="TYPE">uint8_t</field><value name="VALUE"><block type="math_number" id="XJh!4fg|DaB3[jMnzWUq"><field name="NUM">21</field></block></value><next><block type="variables_declare" id="sg|I13YaV}ZJeT3sc-9$"><field name="variables_type">global_variate</field><field name="VAR">color_g_dir</field><field name="TYPE">char</field><value name="VALUE"><block type="math_number" id="7=.]LfPqRV;*WJ[I{?A="><field name="NUM">1</field></block></value><next><block type="variables_declare" id="q+l?(tUpigpx|xL,;IX."><field name="variables_type">global_variate</field><field name="VAR">color_b</field><field name="TYPE">uint8_t</field><value name="VALUE"><block type="math_number" id="yL17pZfs!o#?:}1_3p(7"><field name="NUM">42</field></block></value><next><block type="variables_declare" id="Ik(1kY*}M}/NxSA*dX|l"><field name="variables_type">global_variate</field><field name="VAR">color_b_dir</field><field name="TYPE">char</field><value name="VALUE"><block type="math_number" id="uB~WZLLc;vL`g?o~[z*)"><field name="NUM">1</field></block></value></block></next></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="loop"><block type="led_set_color" id="?]cqmb0Y$SB7?0hx61;["><comment pinned="false" h="80" w="160">单个颜色通道最大255，最小0</comment><value name="led_r"><shadow type="math_number" id="}za@);!vqP]FKHHEp-4c"><field name="NUM">0</field></shadow><block type="variables_get" id="FL4(3aZ-E-^{8e*nmr_,"><field name="VAR">color_r</field></block></value><value name="led_g"><shadow type="math_number" id="8{^O[m6.ZH18F4k$94aW"><field name="NUM">0</field></shadow><block type="variables_get" id="05A(cP1A.CRxe9lWvNIq"><field name="VAR">color_g</field></block></value><value name="led_b"><shadow type="math_number" id="cFvj;uaxo?_a.`XxK1vk"><field name="NUM">0</field></shadow><block type="variables_get" id="QcT|g=!s_7u=SrzPdYUS"><field name="VAR">color_b</field></block></value><next><block type="variables_operation" id="B!A1)]vaRXdkDKXUpChA"><field name="type">+</field><value name="variables"><shadow type="math_number" id="|^~9GVwqy!1nVV(Dp!Yw"><field name="NUM">item</field></shadow><block type="variables_get" id="kvO6Z(Vrz-!=uG0K_G4x"><field name="VAR">color_r</field></block></value><value name="data"><shadow type="math_number" id="o9LQj[NG+qZ88h+`c?C!"><field name="NUM">1</field></shadow><block type="variables_get" id="x3+fE.G#HU]+H/vX`|tD"><field name="VAR">color_r_dir</field></block></value><next><block type="controls_if" id="S-4WZ=k.nda^p|R{k]v5"><value name="IF0"><block type="logic_operation" id="oW+`CFqEmsIZlN1aee$N"><field name="OP">OR</field><value name="A"><block type="logic_compare" id="Z;oa#0hCjH$ljw7/WM/="><field name="OP">EQ</field><value name="A"><block type="variables_get" id="g:*W+2Y;ZN),d}BwSHG="><field name="VAR">color_r</field></block></value><value name="B"><block type="math_number" id="(8jwSiZ-4a+fK1;xk^PZ"><field name="NUM">63</field></block></value></block></value><value name="B"><block type="logic_compare" id="uq:FLV:k2/`/xSsCddJ:"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="2qj*.km56`]/lcpTHClk"><field name="VAR">color_r</field></block></value><value name="B"><block type="math_number" id="V:P7lD~f@s!Ie#6R[N4u"><field name="NUM">0</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id="@ZU2nSk2DB97@uC}}O-;"><field name="type">*</field><value name="variables"><shadow type="math_number" id="wr)8-eLTeTt,*T7-Plt1"><field name="NUM">item</field></shadow><block type="variables_get" id="V1Qm{lt-r2jE{V-?u.x^"><field name="VAR">color_r_dir</field></block></value><value name="data"><shadow type="math_number" id="?YU_)fks)+/em@uNk6TS"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="variables_operation" id="bb.gcRk|MRL{,b}NIE$D"><field name="type">+</field><value name="variables"><shadow type="math_number" id="`4dl2Vx{4UPzSbF`0s*r"><field name="NUM">item</field></shadow><block type="variables_get" id="QaA^gMHH#aH#CAR!vH6q"><field name="VAR">color_g</field></block></value><value name="data"><shadow type="math_number" id="}.?Gb;cCl4pAQ0#/fdDh"><field name="NUM">1</field></shadow><block type="variables_get" id="ep)TE?vPQ}i3W:vPhvU/"><field name="VAR">color_g_dir</field></block></value><next><block type="controls_if" id="n1irjXkmF^K?NXfN9z@:"><value name="IF0"><block type="logic_operation" id="j)pK3C6MLGbHTtY89R.Y"><field name="OP">OR</field><value name="A"><block type="logic_compare" id="lZu@gfGL$0:B}qsKU)If"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="8n~z$$~q=G`4?YNHo*+U"><field name="VAR">color_g</field></block></value><value name="B"><block type="math_number" id="HLveOA!.[1_;5^Vqd/p3"><field name="NUM">63</field></block></value></block></value><value name="B"><block type="logic_compare" id="QO#/#vRx@}_KfweH_r^z"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="i+Qvsc[h+*UJw*g/+Kzj"><field name="VAR">color_g</field></block></value><value name="B"><block type="math_number" id="#r~d5J-99]6tJ-#[@2d|"><field name="NUM">0</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id="cJVd[|;~Z3MY?a~KBy:4"><field name="type">*</field><value name="variables"><shadow type="math_number" id="d}wSYsKI.cpJvY1cJWy2"><field name="NUM">item</field></shadow><block type="variables_get" id="I5LC^.W@3;3/UNAcgU;_"><field name="VAR">color_g_dir</field></block></value><value name="data"><shadow type="math_number" id="hM!:0;u!o1mKby_rWix6"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="variables_operation" id="e7$Kdk}!3bONKAkQ17bC"><field name="type">+</field><value name="variables"><shadow type="math_number" id="m$0oJW`5],?mK,5BM75R"><field name="NUM">item</field></shadow><block type="variables_get" id="9),Y$)bI2Np!w4r!Ik7/"><field name="VAR">color_b</field></block></value><value name="data"><shadow type="math_number" id=";JWO5EHcKa]3(wMd_O!a"><field name="NUM">1</field></shadow><block type="variables_get" id="BfCNme,66@#jH01?80}D"><field name="VAR">color_b_dir</field></block></value><next><block type="controls_if" id="xSVZaEz_D+MFq1(qF0ak"><value name="IF0"><block type="logic_operation" id="M3K.TEg0@LfgixWs.))."><field name="OP">OR</field><value name="A"><block type="logic_compare" id="^zWe9+N-N9k9CxJyn12T"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="uBGJ[NqD8*LD49i[xQDK"><field name="VAR">color_b</field></block></value><value name="B"><block type="math_number" id="BUx7S1/h~it#l$Y?$att"><field name="NUM">63</field></block></value></block></value><value name="B"><block type="logic_compare" id="~Ulyen_S?[GrwDiq{bg`"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="Uzez@12EMmP~rHcXz?|?"><field name="VAR">color_b</field></block></value><value name="B"><block type="math_number" id="-L:,KZH#rxiOm2T+T[ge"><field name="NUM">0</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id=",*1eOz3+!++DGRgszgsM"><field name="type">*</field><value name="variables"><shadow type="math_number" id="W8$Th++X:BH[iw_^B+3."><field name="NUM">item</field></shadow><block type="variables_get" id="wq_JEiIS4e8$mF{mEiK="><field name="VAR">color_b_dir</field></block></value><value name="data"><shadow type="math_number" id="#cxA1K(f$qnvj}*96A5c"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="controls_delay" id="CxZc:`gT-+_2,^n;8=QF"><field name="UNIT">delay</field><comment pinned="false" h="80" w="160">延时(19+1)ms，50Hz执行</comment><value name="DELAY_TIME"><shadow type="math_number" id="*r_Jo8jumEkh9C]89|[*"><field name="NUM">19</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="controls_runnig_core" id="7*Ei:;+a`R/U0Y*(WG^=" x="-163" y="821"><field name="task">2</field><field name="core">0</field><comment pinned="true" h="60" w="360">创建一个线程(Task)用于PWM控制
注意：只能使用Core0，且与其他线程不能同名</comment><value name="length"><shadow type="math_number" id="_:`f}N2loK}H=}QnLR{e"><field name="NUM">512</field></shadow></value><statement name="setup"><block type="variables_declare" id="WR`ky7{dGNF+;YfcY|(k"><field name="variables_type">global_variate</field><field name="VAR">pwm_val</field><field name="TYPE">uint16_t</field><value name="VALUE"><block type="math_number" id="=AJtAIPa}l?|;uzbQ?Al"><field name="NUM">499</field></block></value><next><block type="variables_declare" id="?oieGvbgW/rJ8b0qKR=["><field name="variables_type">global_variate</field><field name="VAR">pwm_direction</field><field name="TYPE">int</field><value name="VALUE"><block type="math_number" id="x5F^b`uoX!/?!yunB#S7"><field name="NUM">1</field></block></value></block></next></block></statement><statement name="loop"><block type="chassis_servos" id="r~lVw@Sl3F)@t)q;s,ex"><field name="servo_id">0</field><value name="servo_dc"><shadow type="math_number" id="G;9ElmtI~c4CxIJcG4-F"><field name="NUM">1499</field></shadow><block type="variables_get" id="Y)jjL!sCm$^_aJG;w!mv"><field name="VAR">pwm_val</field></block></value><next><block type="variables_operation" id="pE3k]qgV,Hh{$o$d#|i6"><field name="type">+</field><value name="variables"><shadow type="math_number" id="|k@F-t7w3by(]rvVgnK@"><field name="NUM">item</field></shadow><block type="variables_get" id="`_dPGb=:6jlKptF6VP~d"><field name="VAR">pwm_val</field></block></value><value name="data"><shadow type="math_number" id="6gx7uv2]=hf9u!|imfb["><field name="NUM">1</field></shadow><block type="variables_get" id="R34iCtn6t+Ap}@6wYqxX"><field name="VAR">pwm_direction</field></block></value><next><block type="controls_if" id="SdLgGC4RN*8!:UnZP0L:"><value name="IF0"><block type="logic_operation" id="6,^wKduI,4~f1OAify$9"><field name="OP">OR</field><value name="A"><block type="logic_compare" id="sd0CYN:Bd.lOYl05WbBW"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="Xy1#3OYgL)r|8J4dOUW@"><field name="VAR">pwm_val</field></block></value><value name="B"><block type="math_number" id="~|`hLn*B9Up$B`*76WV5"><field name="NUM">499</field></block></value></block></value><value name="B"><block type="logic_compare" id="-RCNa^cm5AiYaQBe$~Rp"><field name="OP">EQ</field><value name="A"><block type="variables_get" id="a;#GyPm^}`O3:t.`}k5B"><field name="VAR">pwm_val</field></block></value><value name="B"><block type="math_number" id="#G#,?0G6?ru7xE0hukp-"><field name="NUM">2499</field></block></value></block></value></block></value><statement name="DO0"><block type="variables_operation" id="7xFhIHt#$kG]Io?u}mB9"><field name="type">*</field><value name="variables"><shadow type="math_number" id="@L1RyE)YS33L~?Ujv+vP"><field name="NUM">item</field></shadow><block type="variables_get" id="Rel]}RZaYxbuaGDhZqwo"><field name="VAR">pwm_direction</field></block></value><value name="data"><shadow type="math_number" id="vfgIUxwoY`lUpysErYpo"><field name="NUM">-1</field></shadow></value></block></statement><next><block type="controls_delay" id="1IENFZrKQQjG8(t]vC+E"><field name="UNIT">delay</field><comment pinned="false" h="80" w="160">延时(4+1)ms，200Hz执行</comment><value name="DELAY_TIME"><shadow type="math_number" id="G8w~5jVOafmj3m$3QJ(0"><field name="NUM">4</field></shadow></value></block></next></block></next></block></next></block></statement></block></xml><config>{"CDCOnBoot":{"key":"cdc","label":"Enabled"},"PartitionScheme":{"key":"default","label":"Default 4MB with spiffs (1.2MB APP/1.5MB SPIFFS)"},"CPUFreq":{"key":"160","label":"160MHz (WiFi)"},"FlashMode":{"key":"dio","label":"DIO"},"FlashFreq":{"key":"80","label":"80MHz"},"FlashSize":{"key":"4M","label":"4MB (32Mb)"},"UploadSpeed":{"key":"921600","label":"921600"}}</config><code>CiNpbmNsdWRlIDxDaGFzc2lzLmg+CiNpbmNsdWRlIDxGYXN0TEVELmg+CgpDaGFzc2lzIGNoczsKdm9sYXRpbGUgZmxvYXQgcmVmX3lhdzsKdm9sYXRpbGUgaW50IHJlZl92ZWxvY2l0eV94Owp2b2xhdGlsZSBpbnQgcmVmX3ZlbG9jaXR5X3k7CnZvbGF0aWxlIGludCByZWZfdmVsb2NpdHlfcm9sbDsKdm9sYXRpbGUgaW50IHZfdGltZTsKQ1JHQiBMRURbMV07CnZvbGF0aWxlIHVpbnQ4X3QgY29sb3JfcjsKdm9sYXRpbGUgY2hhciBjb2xvcl9yX2RpcjsKdm9sYXRpbGUgdWludDhfdCBjb2xvcl9nOwp2b2xhdGlsZSBjaGFyIGNvbG9yX2dfZGlyOwp2b2xhdGlsZSB1aW50OF90IGNvbG9yX2I7CnZvbGF0aWxlIGNoYXIgY29sb3JfYl9kaXI7CnZvbGF0aWxlIHVpbnQxNl90IHB3bV92YWw7CnZvbGF0aWxlIGludCBwd21fZGlyZWN0aW9uOwoKdm9pZCB0YXNrX2Nocyggdm9pZCAqIHB2UGFyYW1ldGVycyApewogIGNocy5Jbml0KCk7CiAgZm9yKDs7KXsKICAgIGNocy5VcGRhdGUoKTsKICAgIGlmKGNocy5Jc09ubGluZSgpKXsKICAgICAgY2hzLk1vdG9yc1VubG9jaygpOwogICAgfQogICAgaWYoY2hzLklzT25saW5lKCkpewogICAgICBjaHMuUFdNVW5sb2NrKCk7CiAgICB9CiAgICB2VGFza0RlbGF5KDEwL3BvcnRUSUNLX1BFUklPRF9NUyk7CiAgfQp9Cgp2b2lkIHRhc2tfMSggdm9pZCAqIHB2UGFyYW1ldGVycyApewpmb3IoOzspewogIC8vIOWNleS4quminOiJsumAmumBk+acgOWkpzI1Ne+8jOacgOWwjzAKICBMRURbMF0gPSBDUkdCKGNvbG9yX3IsY29sb3JfZyxjb2xvcl9iKTsKICBGYXN0TEVELnNob3coKTsKICBjb2xvcl9yID0gY29sb3JfciArIGNvbG9yX3JfZGlyOwogIGlmIChjb2xvcl9yID09IDYzIHx8IGNvbG9yX3IgPT0gMCkgewogICAgY29sb3Jfcl9kaXIgPSBjb2xvcl9yX2RpciAqICgtMSk7CgogIH0KICBjb2xvcl9nID0gY29sb3JfZyArIGNvbG9yX2dfZGlyOwogIGlmIChjb2xvcl9nID09IDYzIHx8IGNvbG9yX2cgPT0gMCkgewogICAgY29sb3JfZ19kaXIgPSBjb2xvcl9nX2RpciAqICgtMSk7CgogIH0KICBjb2xvcl9iID0gY29sb3JfYiArIGNvbG9yX2JfZGlyOwogIGlmIChjb2xvcl9iID09IDYzIHx8IGNvbG9yX2IgPT0gMCkgewogICAgY29sb3JfYl9kaXIgPSBjb2xvcl9iX2RpciAqICgtMSk7CgogIH0KICAvLyDlu7bml7YoMTkrMSltc++8jDUwSHrmiafooYwKICBkZWxheSgxOSk7CiAgdlRhc2tEZWxheSgxKTsKfQp9Cgp2b2lkIHRhc2tfMiggdm9pZCAqIHB2UGFyYW1ldGVycyApewpmb3IoOzspewogIGNocy5TZXRTZXJ2b3NEdXR5Q3ljbGUoMCxwd21fdmFsKTsKICBwd21fdmFsID0gcHdtX3ZhbCArIHB3bV9kaXJlY3Rpb247CiAgaWYgKHB3bV92YWwgPT0gNDk5IHx8IHB3bV92YWwgPT0gMjQ5OSkgewogICAgcHdtX2RpcmVjdGlvbiA9IHB3bV9kaXJlY3Rpb24gKiAoLTEpOwoKICB9CiAgLy8g5bu25pe2KDQrMSltc++8jDIwMEh65omn6KGMCiAgZGVsYXkoNCk7CiAgdlRhc2tEZWxheSgxKTsKfQp9Cgp2b2lkIHNldHVwKCl7CiAgeFRhc2tDcmVhdGVQaW5uZWRUb0NvcmUodGFza19jaHMsICJ0YXNrX2NocyIsIDEwMjQsIE5VTEwsIDE1LCBOVUxMLCAwKTsKICByZWZfeWF3ID0gMC4wZjsKICByZWZfdmVsb2NpdHlfeCA9IDA7CiAgcmVmX3ZlbG9jaXR5X3kgPSAwOwogIHJlZl92ZWxvY2l0eV9yb2xsID0gNzAwMDsKICB2X3RpbWUgPSAwOwogIEZhc3RMRUQuYWRkTGVkczxXUzI4MTJCLCAxMCwgUkdCPihMRUQsIDEpOwogIGNvbG9yX3IgPSAwOwogIGNvbG9yX3JfZGlyID0gMTsKICBjb2xvcl9nID0gMjE7CiAgY29sb3JfZ19kaXIgPSAxOwogIGNvbG9yX2IgPSA0MjsKICBjb2xvcl9iX2RpciA9IDE7CgogIHhUYXNrQ3JlYXRlUGlubmVkVG9Db3JlKHRhc2tfMSwgInRhc2tfMSIsIDEwMjQsIE5VTEwsIDIsIE5VTEwsIDApOwoKICBwd21fdmFsID0gNDk5OwogIHB3bV9kaXJlY3Rpb24gPSAxOwoKICB4VGFza0NyZWF0ZVBpbm5lZFRvQ29yZSh0YXNrXzIsICJ0YXNrXzIiLCA1MTIsIE5VTEwsIDIsIE5VTEwsIDApOwoKfQoKdm9pZCBsb29wKCl7CiAgaW50IHZfeCA9IDA7CiAgaW50IHZfeSA9IDA7CiAgcmVmX3ZlbG9jaXR5X3ggPSAyNDAwOwogIHJlZl92ZWxvY2l0eV95ID0gMDsKICB2X3RpbWUgPSAwOwogIC8vIFjmraPlkJHnp7vliqgKICB3aGlsZSAoISh2X3RpbWUgPiAzMDAwKSkgewogICAgdl94ID0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3kgKyBzaW4oKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeDsKICAgIHZfeSA9IHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV95IC0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3g7CiAgICAvLyDorr7nva7ova7ovazpgJ/vvIzlrp7njrDnp7vliqgo5YmNKQogICAgY2hzLk1vdmUoKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgKyAodl94IC0gdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgKyAodl94ICsgdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgLSAodl94IC0gdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgLSAodl94ICsgdl95KSkpOwogICAgdl90aW1lID0gdl90aW1lICsgMTA7CiAgICBkZWxheSgxMCk7CiAgfQogIHJlZl92ZWxvY2l0eV94ID0gMDsKICByZWZfdmVsb2NpdHlfeSA9IDI0MDA7CiAgdl90aW1lID0gMDsKICAvLyBZ5ZCR5q2j5ZCR56e75YqoCiAgd2hpbGUgKCEodl90aW1lID4gMzAwMCkpIHsKICAgIHZfeCA9IGNvcygocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV95ICsgc2luKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3g7CiAgICB2X3kgPSBzaW4oKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeSAtIGNvcygocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV94OwogICAgLy8g6K6+572u6L2u6L2s6YCf77yM5a6e546w56e75YqoKOWJjSkKICAgIGNocy5Nb3ZlKCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsICsgKHZfeCArIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCAtIHZfeSkpLCgtMSAqIHJlZl92ZWxvY2l0eV9yb2xsIC0gKHZfeCArIHZfeSkpKTsKICAgIHZfdGltZSA9IHZfdGltZSArIDEwOwogICAgZGVsYXkoMTApOwogIH0KICByZWZfdmVsb2NpdHlfeCA9IC0yNDAwOwogIHJlZl92ZWxvY2l0eV95ID0gMDsKICB2X3RpbWUgPSAwOwogIC8vIFjotJ/lkJHnp7vliqgKICB3aGlsZSAoISh2X3RpbWUgPiAzMDAwKSkgewogICAgdl94ID0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3kgKyBzaW4oKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeDsKICAgIHZfeSA9IHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV95IC0gY29zKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3g7CiAgICAvLyDorr7nva7ova7ovazpgJ/vvIzlrp7njrDnp7vliqgo5YmNKQogICAgY2hzLk1vdmUoKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgKyAodl94IC0gdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgKyAodl94ICsgdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgLSAodl94IC0gdl95KSksKC0xICogcmVmX3ZlbG9jaXR5X3JvbGwgLSAodl94ICsgdl95KSkpOwogICAgdl90aW1lID0gdl90aW1lICsgMTA7CiAgICBkZWxheSgxMCk7CiAgfQogIHJlZl92ZWxvY2l0eV94ID0gMDsKICByZWZfdmVsb2NpdHlfeSA9IC0yNDAwOwogIHZfdGltZSA9IDA7CiAgLy8gWOi0n+WQkeenu+WKqAogIHdoaWxlICghKHZfdGltZSA+IDMwMDApKSB7CiAgICB2X3ggPSBjb3MoKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeSArIHNpbigocmVmX3lhdyAtIGNocy5HZXRJTlMoMCkpIC8gMTgwLjAgKiAzLjE0MTU5KSAqIHJlZl92ZWxvY2l0eV94OwogICAgdl95ID0gc2luKChyZWZfeWF3IC0gY2hzLkdldElOUygwKSkgLyAxODAuMCAqIDMuMTQxNTkpICogcmVmX3ZlbG9jaXR5X3kgLSBjb3MoKHJlZl95YXcgLSBjaHMuR2V0SU5TKDApKSAvIDE4MC4wICogMy4xNDE1OSkgKiByZWZfdmVsb2NpdHlfeDsKICAgIC8vIOiuvue9rui9rui9rOmAn++8jOWunueOsOenu+WKqCjliY0pCiAgICBjaHMuTW92ZSgoLTEgKiByZWZfdmVsb2NpdHlfcm9sbCArICh2X3ggLSB2X3kpKSwoLTEgKiByZWZfdmVsb2NpdHlfcm9sbCArICh2X3ggKyB2X3kpKSwoLTEgKiByZWZfdmVsb2NpdHlfcm9sbCAtICh2X3ggLSB2X3kpKSwoLTEgKiByZWZfdmVsb2NpdHlfcm9sbCAtICh2X3ggKyB2X3kpKSk7CiAgICB2X3RpbWUgPSB2X3RpbWUgKyAxMDsKICAgIGRlbGF5KDEwKTsKICB9CgogIC8vIOWIm+W7uuS4gOS4que6v+eoiyhUYXNrKeeUqOS6jkxFROaOp+WItgogIC8vIOazqOaEjzog5Y+q6IO95L2/55SoQ29yZTDvvIzkuJTkuI7lhbbku5bnur/nqIvkuI3og73lkIzlkI0KICB2VGFza0RlbGF5KDEpOwoKICAvLyDliJvlu7rkuIDkuKrnur/nqIsoVGFzaynnlKjkuo5QV03mjqfliLYKICAvLyDms6jmhI/vvJrlj6rog73kvb/nlKhDb3JlMO+8jOS4lOS4juWFtuS7lue6v+eoi+S4jeiDveWQjOWQjQogIHZUYXNrRGVsYXkoMSk7Cgp9</code>